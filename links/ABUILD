# ABUILD generated by mkpkg_generator.sh

pkgname=links
pkgver=2.7
pkgbuild=1
arch=("auto")

shortdesc=("WWW browser for the console")
longdesc=("Links is a console mode WWW browser, supporting colors, correct table rendering, background downloading, frames, Javascript, and a menu driven configuration interface. The default is text output, but graphical output (using -g) is also supported using the Linux framebuffer console or SVGAlib. links was written by Mikulas Patocka.")

tags=("network www-client")
source=("http://links.twibright.com/download/${pkgname}-${pkgver}.tar.bz2")
build_deps="glibc-solibs openssl-solibs bzip2 xz openssl gpm libtiff libpng"

before_build() {
  go_src_dir
  sed -i "/ac_cpp=/s/\$CPPFLAGS/\$CPPFLAGS -O2/" configure
  (cd intl; ./gen-intl; ./synclang)
}

BUILD_SYSTEM="autotools"
BUILD_KEYS="--prefix=/usr --libdir=/usr/lib$LIBDIRSUFFIX --mandir=/usr/man --sysconfdir=/etc \
  --enable-javascript --enable-graphics --with-fb --without-x"
INSTALL_KEYS="DESTDIR=$pkgdir"
