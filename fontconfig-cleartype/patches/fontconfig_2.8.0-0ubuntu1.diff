--- fontconfig-2.8.0.orig/debian/fontconfig.preinst
+++ fontconfig-2.8.0/debian/fontconfig.preinst
@@ -0,0 +1,43 @@
+#! /bin/sh
+
+set -e
+
+# Prepare to move a conffile without triggering a dpkg question
+prep_mv_conffile() {
+    CONFFILE="$1"
+
+    if [ -e "$CONFFILE" ]; then
+        md5sum="`md5sum \"$CONFFILE\" | sed -e \"s/ .*//\"`"
+        old_md5sum="`dpkg-query -W -f='${Conffiles}' | sed -n -e \"{\\\\' $CONFFILE'{s/.* //;p}}\"`"
+        if [ "$md5sum" = "$old_md5sum" ]; then
+            rm -f "$CONFFILE"
+        fi
+    fi
+}
+
+FILES="\
+/etc/fonts/fonts.conf \
+/etc/fonts/fonts.dtd \
+/etc/fonts/conf.d/autohint.conf \
+/etc/fonts/conf.d/no-bitmaps.conf \
+/etc/fonts/conf.d/no-sub-pixel.conf \
+/etc/fonts/conf.d/sub-pixel.conf \
+/etc/fonts/conf.d/unhinted.conf \
+/etc/fonts/conf.d/yes-bitmaps.conf"
+
+#
+# This marks when the config files moved from this package
+# to the fontconfig-config package
+#
+NEWVERSION=2.3.2-2
+
+case "$1" in
+install|upgrade)
+  if [ -n "$2" ] && dpkg --compare-versions "$2" lt "$NEWVERSION"; then
+    for FILE in $FILES; do
+      prep_mv_conffile $FILE
+    done
+  fi
+esac
+
+#DEBHELPER#
--- fontconfig-2.8.0.orig/debian/libfontconfig1-dev.doc-base
+++ fontconfig-2.8.0/debian/libfontconfig1-dev.doc-base
@@ -0,0 +1,17 @@
+Document: fontconfig-devel
+Title: Fontconfig Developers Reference
+Author: Keith Packard
+Abstract: Developer reference for the fontconfig library.
+ Fontconfig is a library designed to provide system-wide font
+ configuration, customization and application access.
+Section: Programming
+
+Format: PDF
+Files: /usr/share/doc/libfontconfig1-dev/fontconfig-devel.pdf.gz
+
+Format: Text
+Files: /usr/share/doc/libfontconfig1-dev/fontconfig-devel.txt.gz
+
+Format: HTML
+Index: /usr/share/doc/libfontconfig1-dev/fontconfig-devel/index.html
+Files: /usr/share/doc/libfontconfig1-dev/fontconfig-devel/*.html
--- fontconfig-2.8.0.orig/debian/fontconfig-config.config
+++ fontconfig-2.8.0/debian/fontconfig-config.config
@@ -0,0 +1,87 @@
+#! /bin/sh
+
+set -e
+
+. /usr/share/debconf/confmodule
+
+CONFDIR=/etc/fonts/conf.d
+
+hinting_type="Native"
+
+unhinted_2_3="10-debconf-unhinted.conf"
+unhinted_2_4="10-unhinted.conf"
+autohint_2_3="10-debconf-autohint.conf"
+autohint_2_4="10-autohint.conf"
+
+if [ -h $CONFDIR/$unhinted_2_4 -o -h $CONFDIR/$unhinted_2_3 ]; then
+        hinting_type="None"
+fi
+if [ -h $CONFDIR/$autohint_2_4 -o -h $CONFDIR/$autohint_2_3 ]; then
+        hinting_type="Autohinter"
+fi
+
+db_set fontconfig/hinting_type "$hinting_type"
+
+
+subpixel_rendering="Automatic"
+
+subpixel_2_3="20-debconf-sub-pixel.conf"
+subpixel_2_4="10-sub-pixel-rgb.conf"
+no_subpixel_2_3="20-debconf-no-sub-pixel.conf"
+no_subpixel_2_4="10-no-sub-pixel.conf"
+
+if [ -h $CONFDIR/$subpixel_2_4 -o -h $CONFDIR/$subpixel_2_3 ]; then
+        subpixel_rendering="Always"
+fi
+
+if [ -h $CONFDIR/$no_subpixel_2_4 -o -h $CONFDIR/$no_subpixel_2_3 ]; then
+        subpixel_rendering="Never"
+fi
+
+db_set fontconfig/subpixel_rendering "$subpixel_rendering"
+
+
+# convert old debconf -> new debconf -> current debconf
+if [ -f /var/lib/fontconfig/local.conf ]; then
+  # old -> current
+  if db_get fontconfig/subpixel_rendering; then
+    if [ "$RET" = true ]; then
+      db_set fontconfig/subpixel_rendering "Always"
+      db_set fontconfig/hinting_type "Native"
+    fi
+  fi
+  # new -> current
+  if db_get fontconfig/rendering_type; then
+    case "$RET" in
+    "Subpixel rendering (LCD screens)")
+      db_set fontconfig/subpixel_rendering "Always"
+      db_set fontconfig/hinting_type "Native"
+      ;;
+    "Bytecode interpreter (CRT screens)")
+      db_set fontconfig/subpixel_rendering "Never"
+      db_set fontconfig/hinting_type "Native"
+      ;;
+    "Autohinter")
+      db_set fontconfig/subpixel_rendering "Automatic"
+      db_set fontconfig/hinting_type "Autohinter"
+      ;;
+    esac
+    db_unregister fontconfig/rendering_type || true
+  fi
+fi
+
+yes_bitmaps_2_3="30-debconf-yes-bitmaps.conf"
+yes_bitmaps_2_4="70-yes-bitmaps.conf"
+no_bitmaps_2_3="30-debconf-no-bitmaps.conf"
+no_bitmaps_2_4="70-no-bitmaps.conf"
+
+if [ -h $CONFDIR/$yes_bitmaps_2_4 -o -h $CONFDIR/$yes_bitmaps_2_3 ]; then
+        db_set fontconfig/enable_bitmaps true
+elif [ -h $CONFDIR/$no_bitmaps_2_4 -o -h $CONFDIR/$no_bitmaps_2_3 ]; then
+        db_set fontconfig/enable_bitmaps false
+fi
+
+db_input low fontconfig/hinting_type || true
+db_input low fontconfig/subpixel_rendering || true
+db_input low fontconfig/enable_bitmaps || true
+db_go
--- fontconfig-2.8.0.orig/debian/fontconfig-config.postrm
+++ fontconfig-2.8.0/debian/fontconfig-config.postrm
@@ -0,0 +1,18 @@
+#! /bin/sh
+
+set -e
+
+CONF=/etc/fonts/local.conf
+
+case "$1" in
+	purge)
+	    if [ -x /usr/bin/ucf ]; then
+		ucf --purge $CONF
+	    fi
+	    rm -f $CONF
+	    rm -rf /etc/fonts/conf.d
+	    rmdir /usr/local/share/fonts 2>/dev/null || true
+	    ;;
+esac
+
+#DEBHELPER#
--- fontconfig-2.8.0.orig/debian/fontconfig.install
+++ fontconfig-2.8.0/debian/fontconfig.install
@@ -0,0 +1 @@
+debian/tmp/usr/bin/fc-*
--- fontconfig-2.8.0.orig/debian/rules
+++ fontconfig-2.8.0/debian/rules
@@ -0,0 +1,52 @@
+#!/usr/bin/make -f
+# -*- mode: makefile; coding: utf-8 -*-
+# Copyright © 2002,2003 Colin Walters <walters@gnu.org>
+
+# This ensures the fontconfig package is built after libfontconfig1
+binary/fontconfig:: binary/libfontconfig1
+
+include /usr/share/cdbs/1/rules/debhelper.mk
+include /usr/share/cdbs/1/rules/simple-patchsys.mk
+include /usr/share/cdbs/1/class/autotools.mk
+
+DEB_CONFIGURE_EXTRA_FLAGS := --disable-docs --with-add-fonts=/usr/share/X11/fonts,/usr/local/share/fonts
+
+# tight versioning
+DEB_DH_MAKESHLIBS_ARGS_libfontconfig1 := -V"libfontconfig1 (>= 2.4.0)" --add-udeb="fontconfig-udeb"
+
+DEB_SHLIBDEPS_LIBRARY_fontconfig := libfontconfig1
+DEB_SHLIBDEPS_INCLUDE_fontconfig := debian/libfontconfig1/usr/lib/
+
+DEB_DH_STRIP_ARGS := --dbg-package=libfontconfig1
+
+DEB_MAKE_ENVVARS := LC_ALL=C
+
+clean::
+	rm -f config/Makedefs Makefile src/Makefile fontconfig/Makefile
+	rm -f fc-cache/Makefile fc-list/Makefile fontconfig-config fontconfig.pc config.h
+	rm -f doc/Makefile doc/version.sgml
+
+# defoma stuff
+binary-post-install/fontconfig::
+	dh_installdefoma
+
+common-binary-fixup-arch::
+	t=libfontconfig1; \
+	for p in $$(dh_listpackages -a -N$$t -Nfontconfig-udeb); do \
+	  rm -rf debian/$$p/usr/share/doc/$$p; \
+	  ln -s $$t debian/$$p/usr/share/doc/$$p; \
+	  if [ -f debian/$$p.docs ]; then \
+	    mkdir -p debian/$$p/usr/share/doc/$$t; \
+	    cp -a $$(eval echo $$(cat debian/$$p.docs)) debian/$$p/usr/share/doc/$$t/; \
+	    dh_compress -p$$p; \
+	  fi; \
+	  ( \
+	    echo "# doc dir is now a symlink to $$p"; \
+	    echo 'if [ "$$1" = upgrade ] && [ ! -L /usr/share/doc/'$$p' ]; then'; \
+	    echo "    rm -rf /usr/share/doc/$$p"; \
+	    echo "fi"; \
+	  ) >> debian/$$p.preinst.debhelper; \
+	done
+
+common-binary-fixup-indep::
+	rm -f debian/fontconfig-config/usr/share/doc/fontconfig-config/changelog.gz
--- fontconfig-2.8.0.orig/debian/fontconfig.docs
+++ fontconfig-2.8.0/debian/fontconfig.docs
@@ -0,0 +1,3 @@
+doc/fontconfig-user.html
+doc/fontconfig-user.pdf
+doc/fontconfig-user.txt
--- fontconfig-2.8.0.orig/debian/fontconfig.doc-base
+++ fontconfig-2.8.0/debian/fontconfig.doc-base
@@ -0,0 +1,17 @@
+Document: fontconfig-user
+Title: Fontconfig User Reference
+Author: Keith Packard
+Abstract: User and administrator reference for the fontconfig library.
+ Fontconfig is a library designed to provide system-wide font
+ configuration, customization and application access.
+Section: System/Administration
+
+Format: PDF
+Files: /usr/share/doc/fontconfig/fontconfig-user.pdf.gz
+
+Format: Text
+Files: /usr/share/doc/fontconfig/fontconfig-user.txt.gz
+
+Format: HTML
+Index: /usr/share/doc/fontconfig/fontconfig-user.html
+Files: /usr/share/doc/fontconfig/fontconfig-user.html
--- fontconfig-2.8.0.orig/debian/fc-cache.1
+++ fontconfig-2.8.0/debian/fc-cache.1
@@ -0,0 +1,68 @@
+.\" This manpage has been automatically generated by docbook2man 
+.\" from a DocBook document.  This tool can be found at:
+.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
+.\" Please send any bug reports, improvements, comments, patches, 
+.\" etc. to Steve Cheng <steve@ggi-project.org>.
+.TH "FC-CACHE" "1" "05 June 2006" "" ""
+
+.SH NAME
+fc-cache \- build font information cache files
+.SH SYNOPSIS
+
+\fBfc-cache\fR [ \fB-fsvV?\fR ] [ \fB--force\fR ] [ \fB--system-only\fR ] [ \fB--verbose\fR ] [ \fB--version\fR ] [ \fB--help\fR ] [ \fB\fIdirs\fB\fR ]
+
+.SH "DESCRIPTION"
+.PP
+\fBfc-cache\fR scans the font directories on
+the system and builds font information cache files for
+applications using fontconfig for their font handling.
+.PP
+If directory arguments are not given,
+\fBfc-cache\fR uses each directory in the
+current font configuration. Each directory is scanned for
+font files readable by FreeType.  A cache is created which
+contains properties of each font and the associated filename.
+This cache is used to speed up application startup when using
+the fontconfig library.
+.SH "OPTIONS"
+.PP
+This program follows the usual GNU command line syntax,
+with long options starting with two dashes (`-').  A summary of
+options is included below.
+.TP
+\fB-f --force \fR
+Force re-generation of apparently up-to-date cache files,
+overriding the timestamp checking.
+.TP
+\fB-s --system-only \fR
+Only scan system-wide directories, omitting the places
+located in the user's home directory.
+.TP
+\fB-v --verbose \fR
+Display status information while busy.
+.TP
+\fB-? --help \fR
+Show summary of options.
+.TP
+\fB-V --version \fR
+Show version of the program and exit.
+.TP
+\fB\fIdirs\fB \fR
+A list of directories to scan for fonts.
+.SH "FILES"
+.TP
+\fB\fIfonts.cache-1\fB\fR
+These files are generated by \fBfc-cache\fR
+and contain maps from file names to font properties. They are
+read by the fontconfig library at application startup to locate
+appropriate fonts.
+.SH "SEE ALSO"
+.PP
+\fBfc-list\fR (1).
+.PP
+The fontconfig user's guide, in HTML format:
+\fI/usr/share/doc/fontconfig/fontconfig-user.html\fR\&.
+.SH "AUTHOR"
+.PP
+This manual page was written by Keith Packard
+<keithp@keithp.com> and Josselin Mouette <joss@debian.org>\&.
--- fontconfig-2.8.0.orig/debian/fontconfig-config.install
+++ fontconfig-2.8.0/debian/fontconfig-config.install
@@ -0,0 +1,3 @@
+debian/tmp/etc/fonts/fonts.*
+debian/tmp/etc/fonts/conf.d/*
+debian/tmp/etc/fonts/conf.avail/*
--- fontconfig-2.8.0.orig/debian/fontconfig-config.manpages
+++ fontconfig-2.8.0/debian/fontconfig-config.manpages
@@ -0,0 +1 @@
+doc/*.5
--- fontconfig-2.8.0.orig/debian/fontconfig-config.postinst
+++ fontconfig-2.8.0/debian/fontconfig-config.postinst
@@ -0,0 +1,94 @@
+#!/bin/sh
+
+set -e
+
+rm_conffile() {
+    PKGNAME="$1"
+    CONFFILE="$2"
+    if [ -e "$CONFFILE" ]; then
+        md5sum="`md5sum \"$CONFFILE\" | sed -e \"s/ .*//\"`"
+        old_md5sum="`dpkg-query -W -f='${Conffiles}' $PKGNAME | sed -n -e \"\\\\' $CONFFILE '{s/ obsolete$//;s/.* //p}\"`"
+        if [ "$md5sum" != "$old_md5sum" ]; then
+            echo "Obsolete conffile $CONFFILE has been modified by you."
+            echo "Saving as $CONFFILE.dpkg-bak ..."
+            mv -f "$CONFFILE" "$CONFFILE".dpkg-bak
+        else
+            echo "Removing obsolete conffile $CONFFILE ..."
+            rm -f "$CONFFILE"
+        fi
+    fi
+}
+
+# Remove old ucf stuff
+rm -rf /var/lib/fontconfig
+
+CONFAVAIL=/etc/fonts/conf.avail
+CONFDIR=/etc/fonts/conf.d
+
+# Add the defoma configuration
+defoma_link="30-defoma.conf"
+ln -sf /var/lib/defoma/fontconfig.d/fonts.conf $CONFDIR/$defoma_link
+
+unhinted="10-unhinted.conf"
+autohint="10-autohint.conf"
+
+# (asac): cleanup old conf.d links transition - remove ancient left-over confs
+if dpkg --compare-versions "$2" lt "2.6.0-1ubuntu11~"; then
+  lp332992_ancient_conf_leftover="autohint.conf no-bitmaps.conf no-sub-pixel.conf sub-pixel.conf unhinted.conf yes-bitmaps.conf"
+  for f in $lp332992_ancient_conf_leftover; do
+    if [ -h $CONFDIR/$f ]; then
+	rm $CONFDIR/$f
+    fi
+    if [ -e $CONFDIR/$f ]; then
+	rm_conffile fontconfig-config $CONFDIR/$f
+    fi
+  done
+fi
+ 
+# (asac): drop debconf transition - remove old hinting confs
+if dpkg --compare-versions "$2" lt "2.6.0-1ubuntu12~"; then
+  if [ -h $CONFDIR/$unhinted ]; then
+	rm $CONFDIR/$unhinted
+  fi
+  if [ -h $CONFDIR/$autohint ]; then
+	rm $CONFDIR/$autohint
+  fi
+fi
+	
+subpixel="10-sub-pixel-rgb.conf"
+no_subpixel="10-no-sub-pixel.conf"
+
+# (asac): drop debconf transition - remove old subpixel configs once
+if dpkg --compare-versions "$2" lt "2.6.0-1ubuntu12~"; then
+  if [ -h $CONFDIR/$subpixel ]; then
+	rm $CONFDIR/$subpixel
+  fi
+  if [ -h $CONFDIR/$no_subpixel ]; then
+	rm $CONFDIR/$no_subpixel
+  fi
+fi
+
+yes_bitmaps="70-yes-bitmaps.conf"
+#no_bitmaps="70-no-bitmaps.conf"
+
+# (asac): drop debconf transition - remove old bitmap confs
+if dpkg --compare-versions "$2" lt "2.6.0-1ubuntu12~"; then
+  if [ -h $CONFDIR/$yes_bitmaps ]; then
+	rm $CONFDIR/$yes_bitmaps
+  fi
+
+#  if [ -h $CONFDIR/$no_bitmaps ]; then
+#	rm $CONFDIR/$no_bitmaps
+#  fi
+fi
+
+# Create /usr/local/share/fonts
+LOCALDIR=/usr/local/share/fonts
+if [ ! -d $LOCALDIR ]; then
+  if mkdir $LOCALDIR 2>/dev/null ; then
+    chmod 2775 $LOCALDIR
+    chown root:staff $LOCALDIR
+  fi
+fi
+
+#DEBHELPER#
--- fontconfig-2.8.0.orig/debian/fontconfig.postinst
+++ fontconfig-2.8.0/debian/fontconfig.postinst
@@ -0,0 +1,33 @@
+#!/bin/sh
+
+set -e
+
+if [ "$1" = configure ]; then
+  # Ensure Defoma subst file exists, with some default substitutions
+  if ! defoma-subst check-rule fontconfig; then
+    defoma-subst new-rule fontconfig \
+      'serif --GeneralFamily,* Roman --Shape Serif Upright --Weight Medium' \
+      'sans-serif --GeneralFamily,* SansSerif --Shape NoSerif Upright --Weight Medium' \
+      'monospace --Width,* Fixed --GeneralFamily,2 Typewriter --Shape Upright --Weight Medium'
+  fi
+fi
+
+#DEBHELPER#  
+
+if [ "$1" = configure ]; then
+  if dpkg --compare-versions "$2" lt 2.4.0-1; then
+  printf "Cleaning up old fontconfig caches... "
+  for dir in /usr/share/fonts /var/lib/defoma/fontconfig.d /usr/X11R6/lib/X11/fonts /usr/local/share/fonts ; do
+  	if [ -d $dir ]; then
+	    find $dir -name fonts.cache-1 -exec rm -f \{\} \;
+	    find $dir -depth -mindepth 1 -type d -exec rmdir --ignore-fail-on-non-empty \{\} \;
+	fi
+  done
+  printf "done.\n"
+  fi
+  # Force regeneration of all fontconfig cache files.
+  mkdir -p /var/cache/fontconfig
+  printf "Regenerating fonts cache... "
+  fc-cache -s -f -v 1>/var/log/fontconfig.log 2>&1 || (printf "failed.\nSee /var/log/fontconfig.log for more information.\n"; exit 1)
+  printf "done.\n"
+fi
--- fontconfig-2.8.0.orig/debian/fc-list.1
+++ fontconfig-2.8.0/debian/fc-list.1
@@ -0,0 +1,61 @@
+.\" This manpage has been automatically generated by docbook2man 
+.\" from a DocBook document.  This tool can be found at:
+.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
+.\" Please send any bug reports, improvements, comments, patches, 
+.\" etc. to Steve Cheng <steve@ggi-project.org>.
+.TH "FC-LIST" "1" "05 June 2006" "" ""
+
+.SH NAME
+fc-list \- list available fonts
+.SH SYNOPSIS
+
+\fBfc-list\fR [ \fB-vV?\fR ] [ \fB--verbose\fR ] [ \fB--version\fR ] [ \fB--help\fR ] [ \fB\fIpattern\fB\fR ] [ \fB\fIelement\fB\fR ]
+
+.SH "DESCRIPTION"
+.PP
+\fBfc-list\fR lists fonts and styles
+available on the system for applications using fontconfig.
+.SH "OPTIONS"
+.PP
+This program follows the usual GNU command line syntax,
+with long options starting with two dashes (`-').  A summary of
+options is included below.
+.TP
+\fB-v --verbose \fR
+Display status information while busy.
+.TP
+\fB-? --help \fR
+Show summary of options.
+.TP
+\fB-V --version \fR
+Show version of the program and exit.
+.TP
+\fB\fIpattern\fB \fR
+If this argument is set, only fonts matching
+\fIpattern\fR are displayed.
+.TP
+\fB\fIelement\fB \fR
+If set, the \fIelement\fR property
+is displayed for matching fonts.
+.SH "EXAMPLES"
+.TP
+\fBfc-list\fR
+Lists all font faces.
+.TP
+\fBfc-list :lang=hi\fR
+Lists font faces that cover Hindi.
+.TP
+\fBfc-list : family style file spacing \fR
+Lists the filename and spacing value for each font
+face.  ``:'' is an empty pattern that matches all
+fonts.
+.SH "SEE ALSO"
+.PP
+\fBfc-cache\fR (1).
+.PP
+The fontconfig user's guide, in HTML format:
+\fI/usr/share/doc/fontconfig/fontconfig-user.html\fR\&.
+.SH "AUTHOR"
+.PP
+This manual page was written by Keith Packard
+<keithp@keithp.com> and Josselin Mouette <joss@debian.org>\&.
--- fontconfig-2.8.0.orig/debian/README.Debian
+++ fontconfig-2.8.0/debian/README.Debian
@@ -0,0 +1,46 @@
+*** IMPORTANT ***
+
+Recently, fontconfig changed to not include bitmapped fonts in the
+default font set.  There is now a Debconf question about this.
+
+If you wish to enable bitmapped fonts manually, either reconfigure this
+package (with dpkg-reconfigure fontconfig-config), or remove the 
+symbolic link /etc/fonts/conf.d/30-debconf-no-bitmaps.conf
+
+*****************
+
+
+How fonts are handled in Debian:
+--------------------------------
+
+Fontconfig is a library which handles font configuration and access at
+the system level. It is the foundation for a new font handling in X
+applications (but can also be useful without X).
+
+Applications not using fontconfig are accessing their fonts through
+the X server. Font packages for these applications are named xfonts-*.
+You can also use TrueType fonts with these applications if you install
+the x-ttcidfont-conf package, which connects the X server to defoma:
+fonts included in ttf-* packages or added manually using dfontmgr can
+then be used in these programs.
+A few of these applications, using Xft1, can benefit of antialiasing 
+with vector fonts, but it is deprecated.
+
+The new font renderer in XFree86 is called freetype2, and applications
+using it access fonts on the client side. Most of them (including all
+GTK2/GNOME2 and KDE3 applications) do it using fontconfig, which
+provides listing and matching facilities for all fonts installed on the
+system. Any font installed in /usr/share/fonts or ~/.fonts will be 
+accessible to these applications. This is now also true for fonts added
+using defoma.
+
+These programs can all benefit from antialiasing, autohinting and
+sub-pixel rendering. You can configure it through fontconfig, using
+debconf (dpkg-reconfigure fontconfig-config), or by changing
+links in /etc/fonts/conf.d by hand.
+
+Original text by:
+ -- Josselin Mouette <joss@debian.org>  Wed,  8 Oct 2003 21:51:35 +0200
+
+Changes for fontconfig 2.3 packages by:
+ -- Keith Packard <keithp@debian.org>  Thu, 10 Mar 2005 13:29:11 -0800
--- fontconfig-2.8.0.orig/debian/fontconfig.manpages
+++ fontconfig-2.8.0/debian/fontconfig.manpages
@@ -0,0 +1 @@
+fc-*/*.1
--- fontconfig-2.8.0.orig/debian/fontconfig.defoma
+++ fontconfig-2.8.0/debian/fontconfig.defoma
@@ -0,0 +1,240 @@
+# -*- perl -*-
+# Defoma configuration script for fontconfig
+# Copyright © 2003 Angus Lees <gus@debian.org>
+# This file is hereby placed into the public domain.
+
+@ACCEPT_CATEGORIES = qw(type1 truetype cid);
+# .. and any other categories supported by freetype
+
+package fontconfig;
+
+use Debian::Defoma::Common;
+use Debian::Defoma::Id;
+use Debian::Defoma::Subst;
+
+use strict;
+use warnings;
+
+my $PkgDir = "$ROOTDIR/fontconfig.d";
+my ($Id, $Sb);
+
+my %UpdatedDirectories = ();
+
+sub init {
+  $Id ||= defoma_id_open_cache() or return 1;
+  $Sb ||= defoma_subst_open(rulename => 'fontconfig',
+			    threshold => 70,
+			    idobject => $Id) or return 1;
+
+  return 0;
+}
+
+sub register {
+  my $font = shift;
+  my $hints = parse_hints_start(@_);
+
+  return 1 unless $hints->{FontName};
+
+  my $priority = $hints->{Priority} || 20;
+  my ($fontname) = split / +/, $hints->{FontName};
+  my @alias = split / +/, $hints->{Alias} if $hints->{Alias};
+
+  defoma_id_register($Id, type => 'real', font => $font,
+		     id => $fontname, priority => $priority,
+		     hints => join(' ', @_));
+
+  foreach my $alias (@alias) {
+    defoma_id_register($Id, type => 'alias', font => $font,
+		       id => $alias, priority => $priority,
+		       origin => $fontname);
+  }
+
+  defoma_subst_register($Sb, $font, $fontname);
+
+  return 0;
+}
+
+sub unregister {
+  my $font = shift;
+  defoma_subst_unregister($Sb, $font);
+  defoma_id_unregister($Id, type => 'alias', font => $font);
+  defoma_id_unregister($Id, type => 'real', font => $font);
+  return 0;
+}
+
+sub dirname {
+   my $path = shift;
+
+   $path =~ s/\/[^\/]*$//;
+   return $path;
+}
+
+sub do_install_real {
+  my $font = shift;
+  my $id = shift;
+
+  my $dir = dirname ($font);
+  $UpdatedDirectories{$dir} = 1;
+  return 0;
+}
+
+sub do_remove_real {
+  my $font = shift;
+  my $id = shift;
+
+  my $dir = dirname ($font);
+  $UpdatedDirectories{$dir} = 1;
+
+  return 0;
+}
+
+sub fontconfig_dirs {
+   my %dirs = ();
+   
+   system ('fc-cache', '-s');
+   open my $file, "fc-list : file |" or return ();
+   while (<$file>) {
+   	my $dir = dirname ($_);
+	if (!exists $dirs{$dir}) {
+	    $dirs{$dir} = 1;
+	}
+    }
+    close $file;
+    return %dirs;
+}
+
+#
+# Clean up from old fontconfig defoma mechanism which
+# placed symlinks to each fontfile in the fontconfig.d directory
+#
+sub clean_oldstyle_dirs {
+   opendir (DIR, $PkgDir) or return 1;
+   my @dirs = grep { /^[^.]/ && -d "$PkgDir/$_" } readdir (DIR);
+   closedir DIR;
+   foreach my $dir (@dirs) {
+       my $subdir = "$PkgDir/$dir";
+       if (opendir (DIR, $subdir)) {
+	  my @files = grep { /^[^.]/ && -l "$subdir/$_" } readdir (DIR);
+	  closedir DIR;
+	  foreach my $file (@files) {
+	     if ( -l "$subdir/$file" ) {
+	     	unlink "$subdir/$file";
+	     }
+	  }
+	  rmdir $subdir;
+       }
+   }
+}
+
+sub term {
+  return unless $Id;
+
+  -e "/etc/fonts/fonts.conf" or return 0;
+ 
+  clean_oldstyle_dirs ();
+  #
+  # Update modified directories
+  #
+  
+  my @dirs = keys (%UpdatedDirectories);
+  if (@dirs) {
+      print "Updating fontconfig cache for @dirs\n";
+      system ("fc-cache", "-f", @dirs);
+      #
+      # make sure caches leading to new directories are updated
+      #
+      system ("fc-cache", "-s");
+  }
+  
+  # Empty our config file to see
+  # which directories are reachable without it
+
+  open my $smash_fh, '>', "$PkgDir/fonts.conf" or return 1;
+  print $smash_fh <<EOF;
+<?xml version="1.0"?>
+<!DOCTYPE fontconfig SYSTEM "/etc/fonts/fonts.dtd">
+<!-- autogenerated by fontconfig.defoma -->
+<fontconfig>
+</fontconfig>
+EOF
+  close $smash_fh;
+  my %dirs = fontconfig_dirs ();
+
+  open my $fh, '>', "$PkgDir/fonts.conf" or return 1;
+
+  print $fh <<EOF;
+<?xml version="1.0"?>
+<!DOCTYPE fontconfig SYSTEM "/etc/fonts/fonts.dtd">
+<!-- autogenerated by fontconfig.defoma -->
+<fontconfig>
+EOF
+
+  # directories
+  my %newdirs = ();
+
+  foreach (defoma_id_get_font($Id, installed => type => 'SrI')) {
+    my $dir = dirname($Id->{e_font}->[$_]);
+    if (!exists $dirs{$dir} && !exists $newdirs{$dir}) {
+       print $fh "   <dir>$dir</dir>\n";
+       $newdirs{$dir} = 1;
+    }
+  }
+
+  # aliases
+  foreach (defoma_id_get_font($Id, installed => type => 'SaI')) {
+    print $fh <<EOF
+   <alias>
+      <family>$Id->{e_id}->[$_]</family>
+      <accept><family>$Id->{e_depid}->[$_]</family></accept>
+   </alias>
+EOF
+  }
+
+  # substituded fonts
+  foreach (defoma_id_get_font($Id, installed => type => 'SSI')) {
+    print $fh <<EOF
+   <alias>
+      <family>$Id->{e_id}->[$_]</family>
+      <default><family>$Id->{e_depid}->[$_]</family></default>
+   </alias>
+EOF
+  }
+
+  print $fh "</fontconfig>\n";
+
+  close $fh;
+
+  defoma_subst_close($Sb);
+  defoma_id_close_cache($Id);
+
+  system ("fc-cache", "-s");
+  return 0;
+}
+
+sub main {
+  my $cmd = shift;
+
+  if ($cmd eq 'init') {
+    init();
+  } elsif ($cmd eq 'register') {
+    return register(@_);
+  } elsif ($cmd eq 'unregister') {
+    return unregister(@_);
+  } elsif ($cmd eq 'do-install-real') {
+    return do_install_real(@_);
+  } elsif ($cmd eq 'do-remove-real') {
+    return do_remove_real(@_);
+  } elsif ($cmd eq 'term') {
+    return term(@_);
+  }
+
+  0;
+}
+
+no warnings;
+
+*truetype  = \&main;
+*type1	   = \&main;
+*cid	   = \&main;
+
+1;
--- fontconfig-2.8.0.orig/debian/libfontconfig1-dev.install
+++ fontconfig-2.8.0/debian/libfontconfig1-dev.install
@@ -0,0 +1,4 @@
+debian/tmp/usr/include/fontconfig/*
+debian/tmp/usr/lib/pkgconfig/fontconfig.pc
+debian/tmp/usr/lib/libfontconfig*.a
+debian/tmp/usr/lib/libfontconfig*.so
--- fontconfig-2.8.0.orig/debian/compat
+++ fontconfig-2.8.0/debian/compat
@@ -0,0 +1 @@
+4
--- fontconfig-2.8.0.orig/debian/copyright
+++ fontconfig-2.8.0/debian/copyright
@@ -0,0 +1,29 @@
+This package was debianized by Colin Walters <walters@debian.org> on
+Sun, 13 Oct 2002 15:01:50 -0400
+
+It was downloaded from http://www.fontconfig.org/
+
+Upstream Author: Keith Packard
+
+Copyright:
+
+Copyright © 2001,2003 Keith Packard
+
+Permission to use, copy, modify, distribute, and sell this software and its
+documentation for any purpose is hereby granted without fee, provided that
+the above copyright notice appear in all copies and that both that
+copyright notice and this permission notice appear in supporting
+documentation, and that the name of Keith Packard not be used in
+advertising or publicity pertaining to distribution of the software without
+specific, written prior permission.  Keith Packard makes no
+representations about the suitability of this software for any purpose.  It
+is provided "as is" without express or implied warranty.
+
+KEITH PACKARD DISCLAIMS ALL WARRANTIES WITH REGARD TO THIS SOFTWARE,
+INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS, IN NO
+EVENT SHALL KEITH PACKARD BE LIABLE FOR ANY SPECIAL, INDIRECT OR
+CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE,
+DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR OTHER
+TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
+PERFORMANCE OF THIS SOFTWARE.
+
--- fontconfig-2.8.0.orig/debian/fontconfig.postrm
+++ fontconfig-2.8.0/debian/fontconfig.postrm
@@ -0,0 +1,15 @@
+#! /bin/sh
+
+set -e
+
+case "$1" in
+	purge)
+	    rm -f /var/log/fontconfig.log
+	    rm -rf /var/lib/defoma/fontconfig.d
+	    rm -f /etc/defoma/fontconfig.subst-rule
+	    rm -rf /var/cache/fontconfig
+	    rmdir /etc/defoma 2> /dev/null || true
+	    ;;
+esac
+
+#DEBHELPER#
--- fontconfig-2.8.0.orig/debian/libfontconfig1-dev.manpages
+++ fontconfig-2.8.0/debian/libfontconfig1-dev.manpages
@@ -0,0 +1 @@
+doc/*.3
--- fontconfig-2.8.0.orig/debian/control
+++ fontconfig-2.8.0/debian/control
@@ -0,0 +1,104 @@
+Source: fontconfig
+Section: libs
+Priority: optional
+Maintainer: Ubuntu Core developers <ubuntu-devel-discuss@lists.ubuntu.com>
+XSBC-Original-Maintainer: Keith Packard <keithp@debian.org>
+Uploaders: Josselin Mouette <joss@debian.org>
+Build-Depends: cdbs (>= 0.4.5.4), debhelper (>= 5.0.22), libfreetype6-dev (>= 2.1.7), libexpat1-dev, defoma (>= 0.7.0), binutils (>= 2.12.90.0.9), po-debconf
+Standards-Version: 3.7.3
+
+Package: fontconfig
+Section: utils
+Architecture: any
+Depends: ${shlibs:Depends}, ${misc:Depends}, fontconfig-config
+Replaces: fontconfig-config (<< 2.5.93-1)
+Suggests: defoma (>= 0.7.0)
+Description: generic font configuration library - support binaries
+ Fontconfig is a font configuration and customization library, which
+ does not depend on the X Window System. It is designed to locate
+ fonts within the system and select them according to requirements
+ specified by applications.
+ .
+ Fontconfig is not a rasterization library, nor does it impose a
+ particular rasterization library on the application. The X-specific
+ library 'Xft' uses fontconfig along with freetype to specify and
+ rasterize fonts.
+ .
+ This package contains a program to maintain the fontconfig cache
+ (fc-cache), a sample program to list installed fonts (fc-list), a program
+ to test the matching rules (fc-match) and a program to dump the binary
+ cache files in string form (fc-cat). It also makes fonts managed by defoma
+ available to fontconfig applications.
+
+Package: fontconfig-config
+Section: libs
+Architecture: all
+Depends: ${misc:Depends}, ucf (>= 0.29), ttf-dejavu | ttf-bitstream-vera | ttf-freefont | gsfonts-x11
+Replaces: fontconfig (<< 2.3.2-2)
+Conflicts: fontconfig (<< 2.3.2-2)
+Description: generic font configuration library - configuration
+ Fontconfig is a font configuration and customization library, which
+ does not depend on the X Window System. It is designed to locate
+ fonts within the system and select them according to requirements
+ specified by applications.
+ .
+ This package contains the configuration files and scripts for fontconfig.
+
+Package: fontconfig-udeb
+Section: debian-installer
+XC-Package-Type: udeb
+Architecture: any
+Priority: extra
+Depends: ${shlibs:Depends}
+Description: generic font configuration library - minimal runtime
+ Fontconfig is a font configuration and customization library, which
+ does not depend on the X Window System. It is designed to locate
+ fonts within the system and select them according to requirements
+ specified by applications.
+ .
+ This package contains the minimal runtime library and configuration,
+ only for use in the installation system.
+
+Package: libfontconfig1-dev
+Section: libdevel
+Architecture: any
+Depends: libfontconfig1 (= ${binary:Version}), libexpat1-dev, libfreetype6-dev (>= 2.1.7), pkg-config
+Provides: libfontconfig-dev
+Description: generic font configuration library - development
+ Fontconfig is a font configuration and customization library, which
+ does not depend on the X Window System. It is designed to locate
+ fonts within the system and select them according to requirements
+ specified by applications.
+ .
+ This package contains the static libraries and headers needed for the
+ development of applications using fontconfig.
+
+Package: libfontconfig1
+Section: libs
+Architecture: any
+Depends: ${shlibs:Depends}, fontconfig-config (= ${source:Version})
+Description: generic font configuration library - runtime
+ Fontconfig is a font configuration and customization library, which
+ does not depend on the X Window System. It is designed to locate
+ fonts within the system and select them according to requirements
+ specified by applications.
+ .
+ This package contains the runtime library needed to launch applications
+ using fontconfig.
+
+Package: libfontconfig1-dbg
+Section: libdevel
+Priority: extra
+Architecture: any
+Depends: libfontconfig1 (= ${binary:Version})
+Description: generic font configuration library - debugging symbols
+ Fontconfig is a font configuration and customization library, which
+ does not depend on the X Window System. It is designed to locate
+ fonts within the system and select them according to requirements
+ specified by applications.
+ .
+ This package contains the debugging symbols associated with
+ libfontconfig1. They will automatically be used by gdb for debugging
+ fontconfig-related issues. It should be installed when experiencing crashes
+ involving fontconfig so that a better backtrace is provided in
+ the bug report.
--- fontconfig-2.8.0.orig/debian/libfontconfig1.install
+++ fontconfig-2.8.0/debian/libfontconfig1.install
@@ -0,0 +1 @@
+debian/tmp/usr/lib/libfontconfig*.so.*
--- fontconfig-2.8.0.orig/debian/fontconfig-udeb.install
+++ fontconfig-2.8.0/debian/fontconfig-udeb.install
@@ -0,0 +1,5 @@
+debian/tmp/usr/lib/libfontconfig*.so.*
+debian/tmp/usr/bin/fc-list
+debian/tmp/etc/fonts/fonts.conf
+debian/tmp/etc/fonts/conf.avail/[1245689]*.conf
+debian/tmp/etc/fonts/conf.d/[1245689]*.conf
--- fontconfig-2.8.0.orig/debian/changelog
+++ fontconfig-2.8.0/debian/changelog
@@ -0,0 +1,1365 @@
+fontconfig (2.8.0-0ubuntu1) lucid; urgency=low
+
+  * New upstream release:
+    - Various performance and memory enhancement (during 2.7.x timeframe)
+  * debian/patches/00_old_diff_gz.patch:
+    - update patch
+
+ -- Baptiste Mille-Mathias <baptiste.millemathias@gmail.com>  Wed, 04 Nov 2009 22:14:10 +0100
+
+fontconfig (2.6.0-1ubuntu12) jaunty; urgency=low
+
+  * more config rules cleanup; dont create 10-no-sub-pixel.conf link in package
+    (conf.d/Makefile.am,Makefile.in)
+    - update debian/patches/00_old_diff_gz.patch
+  * remove languageselector.conf link creation from Makefile.am
+    - update debian/patches/00_old_diff_gz.patch
+  * also fix buildsystem patches to ship 10-hinting-slight.conf instead of
+    10-hinting-medium.conf
+    - update debian/patches/00_old_diff_gz.patch
+    - update debian/patches/06_ubuntu_lcddefault.patch
+    - update debian/patches/07_no_bitmaps.patch
+  * retrigger "drop debconf transition" for this upload
+    - update debian/fontconfig-config.postinst
+
+ -- Alexander Sack <asac@ubuntu.com>  Thu, 19 Mar 2009 13:49:15 +0100
+
+fontconfig (2.6.0-1ubuntu11) jaunty; urgency=low
+
+  * fix typo in postinst to ensure that all files targetted in "cleanup old conf.d
+    links transition" get really removed; also make the transition version bounds
+    backport friendly
+    - update debian/fontconfig-config.postinst
+
+ -- Alexander Sack <asac@ubuntu.com>  Wed, 18 Mar 2009 21:58:21 +0100
+
+fontconfig (2.6.0-1ubuntu10) jaunty; urgency=low
+
+  * debian/patches/07_no_bitmaps.patch: enable 70-no-bitmaps.conf by
+    default; we add it to the CONF_LINKS in conf.d/Makefile.am,in to
+    fix regressions reported (LP: #305394, #344629)
+  * debian/fontconfig-config.postinst: also exclude 70-no-bitmaps.conf from
+    "drop debconf transition" to ensure that it doesn't get removed
+    automatically (LP: #305394, #344629)
+  * debian/patches/20_anymetric.patch: drop rules and code patch that
+    introduced FC_ANY_METRICS - this change never made it upstream and
+    firefox doesnt use it anymore.
+
+ -- Alexander Sack <asac@ubuntu.com>  Wed, 18 Mar 2009 18:37:18 +0100
+
+fontconfig (2.6.0-1ubuntu9) jaunty; urgency=low
+
+  * fix build failure due to droppage of 02_ubuntu_fonts_conf.patch; we
+    also had to remove the 52-languageselector.conf parts from our
+    debian/patches/00_old_diff_gz.patch
+  * fix buildd bustage introduced in 2.6.0-1ubuntu7; including debconf
+    /usr/share/debconf/confmodule after removing all debconf is wrong;
+    dont do that anymore.
+
+ -- Alexander Sack <asac@ubuntu.com>  Mon, 16 Mar 2009 23:48:13 +0100
+
+fontconfig (2.6.0-1ubuntu8) jaunty; urgency=low
+
+  * debian/fontconfig-config.postinst: cleanup old conf.d links transition;
+    we remove autohint.conf,no-bitmaps.conf,no-sub-pixel.conf,sub-pixel.conf,
+    unhinted.conf,yes-bitmaps.conf which have been reported as left overs;
+    we are polite and use rm_conffile for files that exist but are not symbolic
+    links; see LP: #332992 and LP: #305394
+  * remove debian/patches/02_ubuntu_fonts_conf.patch which got superseeded by
+    files shipped by language-selector package.
+
+ -- Alexander Sack <asac@ubuntu.com>  Mon, 16 Mar 2009 21:05:38 +0100
+
+fontconfig (2.6.0-1ubuntu7) jaunty; urgency=low
+
+  * debian/fontconfig-config.postinst: drop debconf transition;
+    we remove conf.d links for hinting, subpixel and bitmap configs
+    and stop looking at debconf
+    - remove debian/fontconfig-config.templates accordingly
+    - remove debian/po/ directory with template translations
+    - debian/rules: remove debconfpo logics
+
+ -- Alexander Sack <asac@ubuntu.com>  Mon, 16 Mar 2009 20:58:51 +0100
+
+fontconfig (2.6.0-1ubuntu6) jaunty; urgency=low
+
+  * add debian/patches/20_anymetric.patch: fork anymetrics changes from
+    debian/patches/00_old_diff_gz.patch into separate patch - which is supposed
+    to be dropped soonish
+
+ -- Alexander Sack <asac@ubuntu.com>  Mon, 16 Mar 2009 20:33:41 +0100
+
+fontconfig (2.6.0-1ubuntu5) jaunty; urgency=low
+
+  * add debian/patches/00_old_diff_gz.patch: eliminate stuff from diff.gz
+    and move it to its own diff for now
+
+ -- Alexander Sack <asac@ubuntu.com>  Mon, 16 Mar 2009 20:24:59 +0100
+
+fontconfig (2.6.0-1ubuntu4) intrepid; urgency=low
+
+  * add debian/patches/06_ubuntu_lcddefault.patch: set lcddefault as
+    default for the lcd-filter now that Cairo prefers lcdlegacy. This
+    is needed to restore our previous behavior. Thanks to Sylvain Pasche.
+    (LP: #271088, #264254)
+
+ -- Fabien Tassin <fta@ubuntu.com>  Wed, 17 Sep 2008 00:40:14 +0200
+
+fontconfig (2.6.0-1ubuntu3) intrepid; urgency=low
+
+  * Recognize const value "lcdfilterlegacy", introduced before upstream
+    did introduce "lcdlegacy". LP: #243130.
+
+ -- Matthias Klose <doko@ubuntu.com>  Fri, 12 Sep 2008 19:34:01 +0200
+
+fontconfig (2.6.0-1ubuntu2) intrepid; urgency=low
+
+  * fixed conf.d/Makefile.am and conf.d/Makefile.in to really install
+    52-languageselector.conf and 53-monospace-lcd-filter.conf
+    (LP: 243130)
+
+ -- Arne Goetje <arne@ubuntu.com>  Thu, 26 Jun 2008 17:31:33 +0800
+
+fontconfig (2.6.0-1ubuntu1) intrepid; urgency=low
+
+  * Merge with Debian; remaining changes:
+    - conf.d/40-nonlatin.conf: Add `MgOpen Moderna' to the list of fonts
+      for which we might fall back to sans-serif.
+    - conf.d/60-latin.conf: Prefer DejaVu over Bitstream Vera,
+      as done for dapper.
+    - 52-languageselector.conf loads language-selector.conf.
+    - Include 52-languageselector.conf in the lists in conf.d/Makefile.am so
+      that it actually gets installed and used.  Fixes LP 73714.
+    - Some hackery in the debconf config script which attempts to upgrade
+      user preferences across the many changes which have occurred to the
+      debconf questions.  In particular:
+      + Do not attempt to divine enable_bitmaps option by reading the
+        symlinks in /etc.  This leaves the only way to permanently change
+        the behaviour being dpkg-reconfigure.  The divination code was
+        wrong and was intended by Debian to preserve pre-debconf
+        configuration.  It would be nicer to preserve handmade updates to
+        the /etc directory.
+      + Always create /etc/fontconfig/conf.d/ symlink for enabling or
+        disabling bitmap fonts.  This records the state from debconf
+        unambiguously into the filesystem and will make it possible for
+        future upgrades (from Edgy or later) to preserve handmade changes.
+    - Add a (optional) include for "language-selector.conf" in fonts.conf
+    - debian/patches/03_preferred_symbol_font.patch:
+      + prefer "Standard Symbols L" as symbol font (Ubuntu: #37745)
+    - Fix incorrect location of /usr/share/X11/fonts.
+    - Correctly fix the (eg) firefox vs. (eg) evince font metrics problem:
+      + New FC_ANY_METRICS property, boolean.
+      + Change URW Nimbus and AMT font aliases in 30-{urw,metric}-aliases.conf
+        into equivalent <match> directives so that we can add an additional
+        test which disables them when the anymetrics property is true.
+    - debian/rules (clean): Clean doc directory.
+    - add debian/patches/05_ubuntu_hinting_and_antialias_confs.patch:
+      - adds 10-antialias.conf, 10-hinting.conf, 10-hinting-full.conf,
+        10-hinting-medium.conf and 10-hinting-slight.conf
+    - modified conf.d/Makefile.am and conf.d/Makefile.in so that
+      10-antialias.conf, 10-hinting.conf, 10-hinting-medium.conf and 
+      10-no-subpixel.conf get linked by default to have te same default
+      settings for all Ubuntu flavors. 10-hinting-full.conf and
+      10-hinting-slight.conf will go into conf.avail/ .
+
+ -- Matthias Klose <doko@ubuntu.com>  Wed, 25 Jun 2008 11:08:02 +0200
+
+fontconfig (2.6.0-1) unstable; urgency=low
+
+  * upstream release of 2.6
+
+ -- Keith Packard <keithp@debian.org>  Sat, 31 May 2008 20:01:57 -0700
+
+fontconfig (2.5.93-1) unstable; urgency=low
+
+  * upstream release of 2.6 RC3
+  * Libs.private needs freetype libraries (closes: 482308)
+  * Recognise more decorative keywords in style
+    names (closes: 354537, 403914)
+  * Bail on defoma stuff if fontconfig hasn't been completely
+    installed (closes: 422980)
+  * Fix bashisms in debian/rules. (closes: 478381, 454482)
+  * Don't use non-existant 10-sub-pixel.conf (closes: 415358)
+  * Store dir timestamps in cache files instead of relying on
+    mtime (closes: 411883, 314720)
+  * Move fontconfig-user documentation to fontconfig
+    package (closes: 401933)
+  * Ignore empty font directory elements in config.
+    (closes: 398851)
+  * Eliminating defoma directories avoids umask issues
+    (closes: 398126)
+  * Install program man pages in fontconfig package
+    (closes: 397192)
+  * Stick config README in /etc/fonts.conf.d (closes: 393999)
+  * Suggest instead of Depend on defoma (closes: 392549)
+  * Don't depend on msttcorefonts (closes: 427958)
+
+ -- Keith Packard <keithp@debian.org>  Sat, 24 May 2008 16:53:17 -0700
+
+fontconfig (2.5.92-1) unstable; urgency=low
+
+  * Upstream release of 2.6 RC2
+  * Install remaining documentation
+  * Add doc-base support (closes: 4516580)
+  * Fix bashisms in debian/rules (closes: 478381)
+
+ -- Keith Packard <keithp@debian.org>  Sat, 03 May 2008 22:33:28 -0700
+ 
+fontconfig (2.5.0-2ubuntu3) hardy; urgency=low
+
+  * add debian/patches/05_ubuntu_hinting_and_antialias_confs.patch:
+    - adds 10-antialias.conf, 10-hinting.conf, 10-hinting-full.conf,
+           10-hinting-medium.conf and 10-hinting-slight.conf
+  * modified conf.d/Makefile.am and conf.d/Makefile.in so that
+    10-antialias.conf, 10-hinting.conf, 10-hinting-medium.conf and 
+    10-no-subpixel.conf get linked by default to have te same default
+    settings for all Ubuntu flavors. 10-hinting-full.conf and
+    10-hinting-slight.conf will go into conf.avail/ .
+
+ -- Arne Goetje <arne@ubuntu.com>  Thu, 28 Feb 2008 04:30:30 +0800
+
+fontconfig (2.5.0-2ubuntu2) hardy; urgency=low
+
+  * debian/patches/03_lcd_filter_freedesktop_bug13566.patch:
+    - changed to fix a small error
+
+  [ Fabien Tassin ]
+  * Replace Ubuntu's lcd patch by patch from Freedesktop bug #13566
+    which will allow native Cairo 1.6 lcd filtering (as per
+    Freedesktop bug #10301)
+    - drop debian/patches/03_ubuntu_lcd_filter.patch
+    - add debian/patches/03_lcd_filter_freedesktop_bug13566.patch
+    - update debian/patches/04_ubuntu_monospace_lcd_filter_conf.patch
+
+ -- Sebastien Bacher <seb128@canonical.com>  Fri, 21 Dec 2007 11:30:18 +0100
+
+fontconfig (2.5.0-2ubuntu1) hardy; urgency=low
+
+  * Merge with Debian; remaining changes:
+    - conf.d/40-nonlatin.conf: Add `MgOpen Moderna' to the list of fonts
+      for which we might fall back to sans-serif.
+    - conf.d/60-latin.conf: Prefer DejaVu over Bitstream Vera,
+      as done for dapper.
+    - 52-languageselector.conf loads language-selector.conf.
+    - Include 52-languageselector.conf in the lists in conf.d/Makefile.am so
+      that it actually gets installed and used.  Fixes LP 73714.
+    - Some hackery in the debconf config script which attempts to upgrade
+      user preferences across the many changes which have occurred to the
+      debconf questions.  In particular:
+      + Do not attempt to divine enable_bitmaps option by reading the
+        symlinks in /etc.  This leaves the only way to permanently change
+        the behaviour being dpkg-reconfigure.  The divination code was
+        wrong and was intended by Debian to preserve pre-debconf
+        configuration.  It would be nicer to preserve handmade updates to
+        the /etc directory.
+      + Always create /etc/fontconfig/conf.d/ symlink for enabling or
+        disabling bitmap fonts.  This records the state from debconf
+        unambiguously into the filesystem and will make it possible for
+        future upgrades (from Edgy or later) to preserve handmade changes.
+    - Add a (optional) include for "language-selector.conf" in fonts.conf
+    - debian/patches/03_preferred_symbol_font.patch:
+      + prefer "Standard Symbols L" as symbol font (Ubuntu: #37745)
+    - Fix incorrect location of /usr/share/X11/fonts.
+    - Correctly fix the (eg) firefox vs. (eg) evince font metrics problem:
+      + New FC_ANY_METRICS property, boolean.
+      + Change URW Nimbus and AMT font aliases in 30-{urw,metric}-aliases.conf
+        into equivalent <match> directives so that we can add an additional
+        test which disables them when the anymetrics property is true.
+  * Link using -Bsymbolic-functions.
+  * debian/rules (clean): Clean doc directory.
+  * debian/rules: Set shell to /bin/bash.
+
+ -- Matthias Klose <doko@ubuntu.com>  Wed, 05 Dec 2007 14:16:40 +0000
+
+fontconfig (2.5.0-2) unstable; urgency=low
+ 
+  * Install remaining documentation
+  * Add doc-base support (closes: #516580)
+
+ -- Keith Packard <keithp@debian.org>  Sat, 17 Nov 2007 13:31:13 -0800
+
+fontconfig (2.5.0-1) unstable; urgency=low
+
+  * Upstream release of 2.5
+  * Verify defoma handling. (closes: 402104, 446124, 301922)
+  * Verify that command manuals are installed (closes: 429294)
+  * Fix typo in fr.po translation (Frédéric Bothamy) (closes: 450527)
+
+ -- Keith Packard <keithp@debian.org>  Tue, 13 Nov 2007 19:29:09 -0800
+
+fontconfig (2.4.91-1) unstable; urgency=low
+
+  * Upstream release of 2.5 RC1
+  * Incorporate l10n and other bug fixes
+  * Rewrite defoma handling to eliminate symlinks in /var/lib/defoma/fontconfig.d
+
+ -- Keith Packard <keithp@debian.org>  Sat, 27 Oct 2007 14:28:27 -0700
+
+fontconfig (2.4.2-1.4) unstable; urgency=low
+
+  * Non-maintainer upload, with maintainer's agreement, to fix pending
+    l10n issues
+  * Debconf templates proofread and reviewed by the debian-l10n-english team
+    as part of the Smith Review Project
+    Closes: #419347
+  * Debconf translation updates:
+    - Catalan. Closes: #411990
+    - Swedish. Closes: #419643
+    - Spanish. Closes: #419648
+    - Japanese. Closes: #419709
+    - Norwegian Bokmål. Closes: #419744
+    - Useless no.po file removed (no is superseded by nb)
+    - Portuguese. Closes: #419760
+    - Tamil. Closes: #419662
+    - Galician. Closes: #419859
+    - Russian. Closes: #419914
+    - Traditional Chinese. Closes: #419917
+    - Brazilian Portuguese. Closes: #419957
+    - Lituanian. Closes: #420109
+    - Czech. Closes: #420186
+    - Romanian. Closes: #421719
+    - Hungarian. Closes: #421740
+    - Arabic. Closes: #421741
+    - Dutch. Closes: #421763
+    - German. Closes: #421852
+    - Basque. Closes: #421885
+    - Malayalam. Closes: #422847
+    - Korean. Closes: #423939
+    - Slovak. Closes: #438575
+    - Finnish. Closes: #447025
+  * Vietnamese. Closes: #426987
+  * Italian. Closes: #447440
+
+ -- Christian Perrier <bubulle@debian.org>  Sun, 21 Oct 2007 14:08:39 +0200
+
+fontconfig (2.4.2-1.3) unstable; urgency=low
+
+  * NMU. Handle Japanese fonts better. (closes: #435971)
+
+ -- Junichi Uekawa <dancer@debian.org>  Wed, 10 Oct 2007 21:46:44 +0900
+
+fontconfig (2.4.2-1.2ubuntu4) gutsy; urgency=low
+
+  * Explicitely remove the doc directories on upgrade for the now symlinked
+    doc directories.
+
+ -- Matthias Klose <doko@ubuntu.com>  Fri, 05 Oct 2007 18:36:25 +0200
+
+fontconfig (2.4.2-1.2ubuntu3) gutsy; urgency=low
+
+  * Symlink doc directories to avoid duplicate file:
+  * fontconfig-config: Don't install the upstream changelog.
+
+ -- Matthias Klose <doko@ubuntu.com>  Thu, 04 Oct 2007 15:59:22 +0200
+
+fontconfig (2.4.2-1.2ubuntu2) gutsy; urgency=low
+
+  * debian/patches/03_ubuntu_lcd_filter.patch:
+    - Allow LCD filter configuration for when subpixel rendering
+  * debian/patches/04_ubuntu_monospace_lcd_filter_conf.patch:
+    - Use the legacy LCD filter for Monospace fonts smaller than 12px.
+
+ -- Scott James Remnant <scott@ubuntu.com>  Thu, 20 Sep 2007 21:31:16 +0100
+
+fontconfig (2.4.2-1.2ubuntu1) gutsy; urgency=low
+
+  * Merge with Debian; remaining changes:
+  * Correctly fix the (eg) firefox vs. (eg) evince font metrics
+    problem:
+    - New FC_ANY_METRICS property, boolean.
+    - Change URW Nimbus and AMT font aliases in 30-{urw,amt}-aliases.conf
+      into equivalent <match> directives so that we can add an additional
+      test which disables them when the anymetrics property is true.
+    (reported to Debian #299697.)
+  * Add `MgOpen Moderna' as well as `MgOpen Modata' to the list of fonts
+    for which we might fall back to sans-serif.
+    (reported to Debian, bug number pending.)
+  * Some hackery in the debconf config script which attempts to upgrade
+    user preferences across the many changes which have occurred to the
+    debconf questions.  In particular:
+  * Do not attempt to divine enable_bitmaps option by reading
+    the symlinks in /etc.  This leaves the only way to permanently change
+    the behaviour being dpkg-reconfigure.  The divination code was wrong
+    and was intended by Debian to preserve pre-debconf configuration.
+    It would be nicer to preserve handmade updates to the /etc directory,
+    so, also:
+  * Always create /etc/fontconfig/conf.d/ symlink for enabling or
+    disabling bitmap fonts.  This records the state from debconf
+    unambiguously into the filesystem and will make it possible for future
+    upgrades (from Edgy or later) to preserve handmade changes.  
+  * Add a (optional) include for "language-selector.conf" in fonts.conf
+  * debian/patches/03_preferred_symbol_font.patch:
+    - prefer "Standard Symbols L" as symbol font (Ubuntu: #37745)
+  * Fix incorrect location of /usr/share/X11/fonts.
+  * 52-languageselector.conf loads language-selector.conf.
+  * Include 52-languageselector.conf in the lists in conf.d/Makefile.am so
+    that it actually gets installed and used.  Fixes LP 73714.
+  * conf.d/60-latin.conf: Prefer DejaVu over Bitstream Vera,
+    as done for dapper.
+
+ -- Matthias Klose <doko@ubuntu.com>  Wed, 23 May 2007 14:01:03 +0200
+
+fontconfig (2.4.2-1.2) unstable; urgency=low
+
+  * Non-maintainer upload to fix previous NMU errors (and other errors..:-).
+  * Rename debian/po/.po to debian/po/sv.po. *This* is the real Swedish
+    translation
+  * Remove extra "nda.po" which is an old Danish translation
+
+ -- Christian Perrier <bubulle@debian.org>  Thu, 22 Feb 2007 15:35:17 +0100
+
+fontconfig (2.4.2-1.1) unstable; urgency=low
+
+  * Non-maintainer upload to fix pending l10n issues.
+  * Debconf translations:
+    - Romanian. Closes: #402188
+    - Galician. Closes: #404317
+    - Swedish. Closes: #407850
+    - Norwegian Bokmål. Closes: #411554
+    - Useless files removed:
+      - debian/po/da.po-latin-1
+      - debian/po/fontconfig_2.4.1-2_es.po
+    - Spanish translation converted to UTF-8
+
+ -- Christian Perrier <bubulle@debian.org>  Tue, 20 Feb 2007 08:40:24 +0100
+
+fontconfig (2.4.2-1ubuntu1) feisty; urgency=low
+
+  * Merge with Debian unstable; remaining changes:
+    - see 2.4.1-2ubuntu[12].
+  * conf.d/60-latin.conf: Prefer DejaVu over Bitstream Vera,
+    as done for dapper.
+
+ -- Matthias Klose <doko@ubuntu.com>  Fri,  5 Jan 2007 18:41:16 +0100
+
+fontconfig (2.4.2-1) unstable; urgency=low
+
+  * Incorporate old Galacian translation (closes 361259)
+  * Add fc-list to fontconfig-udeb. (closes 388161)
+  * Add conf.d and conf.avail to fontconfig-udeb (closes 388165)
+  * Update Czech translation (closes 389209)
+  * Update Russian translation (closes 389436)
+  * Update Dutch translation (closes 391462)
+  * Update French translation (closes 392454)
+  * Update Danish translation again (closes 388017, 393059)
+  * Add Romanian translation (closes 395346)
+  * Update German translation (closes 396941)
+  * Update Brazilian Portuguese translation (closes 397846)
+  * Update Japanese debconf translation (closes 398596)
+  * Update Spanish translation (closes 399961)
+  * Add default cache directories (closes 387928, 393909, 395880, 396554, 298293)
+  * Merge new upstream version (2.4.2).
+
+ -- Keith Packard <keithp@debian.org>  Sat,  2 Dec 2006 16:24:55 -0800
+ 
+fontconfig (2.4.1-2ubuntu2) feisty; urgency=low
+
+  * Include 52-languageselector.conf in the lists in conf.d/Makefile.am so
+    that it actually gets installed and used.  Fixes LP 73714.
+  * Reran automake (1.9.6+nogfdl-3).
+
+ -- Ian Jackson <iwj@ubuntu.com>  Wed, 29 Nov 2006 12:09:01 +0000
+
+fontconfig (2.4.1-2ubuntu1) feisty; urgency=low
+
+  * Merge from debian unstable.
+  
+  Ubuntu changes kept from previous versions follow:
+  * Correctly fix the (eg) firefox vs. (eg) evince font metrics
+    problem:
+    - New FC_ANY_METRICS property, boolean.
+    - Change URW Nimbus and AMT font aliases in 30-{urw,amt}-aliases.conf
+      into equivalent <match> directives so that we can add an additional
+      test which disables them when the anymetrics property is true.
+    (reported to Debian #299697.)
+  * Add `MgOpen Moderna' as well as `MgOpen Modata' to the list of fonts
+    for which we might fall back to sans-serif.
+    (reported to Debian, bug number pending.)
+  * Some hackery in the debconf config script which attempts to upgrade
+    user preferences across the many changes which have occurred to the
+    debconf questions.  In particular:
+  * Do not attempt to divine enable_bitmaps option by reading
+    the symlinks in /etc.  This leaves the only way to permanently change
+    the behaviour being dpkg-reconfigure.  The divination code was wrong
+    and was intended by Debian to preserve pre-debconf configuration.
+    It would be nicer to preserve handmade updates to the /etc directory,
+    so, also:
+  * Always create /etc/fontconfig/conf.d/ symlink for enabling or
+    disabling bitmap fonts.  This records the state from debconf
+    unambiguously into the filesystem and will make it possible for future
+    upgrades (from Edgy or later) to preserve handmade changes.  
+  * Add a (optional) include for "language-selector.conf" in fonts.conf
+  * debian/patches/03_preferred_symbol_font.patch:
+    - prefer "Standard Symbols L" as symbol font (Ubuntu: #37745)
+  * Fix incorrect location of /usr/share/X11/fonts.
+  * 52-languageselector.conf loads language-selector.conf.
+
+ -- Ian Jackson <iwj@ubuntu.com>  Tue, 28 Nov 2006 18:39:27 +0000
+
+fontconfig (2.4.1-2) unstable; urgency=low
+
+  * Identify current debconf configuration using either
+    2.4-style or 2.3-style link names. Link names changed in 2.4
+    with re-work of /etc/fonts/conf.d conventions. (closes: #388008)
+ 
+ -- Keith Packard <keithp@debian.org>  Sun, 17 Sep 2006 22:10:18 -0700
+ 
+fontconfig (2.4.1-1) unstable; urgency=low
+
+  * Reimplement FcConfigAppFontAddDir; function was lost in 2.4.0.
+  * Move to new upstream version.
+
+ -- Keith Packard <keithp@debian.org>  Fri, 15 Sep 2006 14:22:28 -0700
+
+fontconfig (2.4.0-5) unstable; urgency=low
+
+  * Add signatures for m68k and mipsel
+
+ -- Keith Packard <keithp@debian.org>  Wed, 13 Sep 2006 18:40:22 -0700
+
+fontconfig (2.4.0-4) unstable; urgency=low
+
+  * Clean up old fontcaches before creating new ones
+  * Config files moved to -config package in 2.3.2-2
+
+ -- Keith Packard <keithp@debian.org>  Wed, 13 Sep 2006 00:11:37 -0700
+
+fontconfig (2.4.0-3) experimental; urgency=low
+
+  * Change shlib depends to require fontconfig 2.4.0 or better
+
+ -- Keith Packard <keithp@debian.org>  Tue, 12 Sep 2006 09:29:39 -0700
+
+fontconfig (2.4.0-2) experimental; urgency=low
+
+  * install conf files to /etc/fonts/conf.avail
+  * create /var/cache/fontconfig
+  * clean out old fonts.cache-1 files in postinst phase
+  * link defoma config as 30-defoma.conf
+  
+ -- Keith Packard <keithp@debian.org>  Sun, 10 Sep 2006 01:54:31 -0700
+
+fontconfig (2.4.0-1) experimental; urgency=low
+
+  * fontconfig update to 2.4.0
+  * binary shared mmap'd caches
+  * split configuration
+
+ -- Keith Packard <keithp@debian.org>  Sat,  9 Sep 2006 23:03:30 -0700
+ 
+fontconfig (2.3.97-1) experimental; urgency=low
+
+  * fontconfig update to 2.3.97 (2.4 pre 7)
+
+ -- Keith Packard <keithp@debian.org>  Thu,  7 Sep 2006 00:30:39 -0700
+
+fontconfig (2.3.2-7) unstable; urgency=low
+
+  * fontconfig-config.config: preserve the "bitmaps" parameter across
+    upgrades from sarge.
+  * fc-{cache,list}.1: include pregenerated manpages (closes: #370706). 
+    This is ugly but it avoids build-depending on docbook-utils.
+  * fontconfig.manpages: install these files.
+  * fontconfig.install: don't install the manpages here.
+
+ -- Josselin Mouette <joss@debian.org>  Tue,  6 Jun 2006 18:53:36 +0200
+
+fontconfig (2.3.2-6) unstable; urgency=medium
+
+  * Acknowledge NMU (closes: #359997).
+  * noftinternals.patch: patch from freetype.org to avoid using freetype
+    internals (closes: #370458).
+  * dejavu.diff: still pull DejaVu by default, but prefer Bitstream Vera
+    if it is available.
+  * Standards version is 3.7.2.
+  * fontconfig-config.config: correctly handle local changes and stop 
+    using debconf as a registry.
+  * fontconfig-config.postinst: correctly set the defoma symbolic link.
+
+ -- Josselin Mouette <joss@debian.org>  Mon,  5 Jun 2006 22:47:00 +0200
+
+fontconfig (2.3.2-5.1) unstable; urgency=low
+
+  * Non Maintainer Upload
+  * Add support for udeb dependency resolution in shlibs file.
+    Closes: #359997.
+
+ -- Frans Pop <fjp@debian.org>  Sat,  1 Apr 2006 20:44:32 +0200
+
+fontconfig (2.3.2-5) unstable; urgency=low
+
+  * Disable documentation building.
+  * Remove build-dependency on docbook-utils (closes: #356071).
+  * libfontconfig1-dev.{install,manpages}: install the pre-generated 
+    documentation instead.
+  * fontconfig-config.manpages: ditto for the configuration file doc.
+  * Skip the PDF and TXT documentation, preferring HTML which is the 
+    default in Debian.
+
+ -- Josselin Mouette <joss@debian.org>  Thu,  9 Mar 2006 20:32:49 +0100
+
+fontconfig (2.3.2-4) unstable; urgency=high
+
+  * Add XC-Package-Type to the control file so that debhelper
+    understands it's treating a udeb.
+  * Require debhelper 4.2.0.
+
+ -- Josselin Mouette <joss@debian.org>  Wed,  8 Mar 2006 22:44:52 +0100
+
+fontconfig (2.3.2-3) unstable; urgency=high
+
+  * fontconfig.preinst: don't remove configuration files when
+    installing, only when upgrading. Fixes the "no conffiles" bug on new
+    installations (closes: #354316).
+  * rules: don't run dh_installdocs and dh_installchangelogs for the 
+    udeb.
+
+ -- Josselin Mouette <joss@debian.org>  Sun,  5 Mar 2006 18:03:48 +0100
+
+fontconfig (2.3.2-2) unstable; urgency=low
+
+  * Acknowledge NMU (closes: #331444).
+  * Updated translations:
+    + Japanese, from Kenshi Muto (closes: #298256).
+    + French, from Jean-Christophe Champarnaud (closes: #299519).
+    + Czech, from Miroslav Kure (closes: #302106).
+    + Danish, from Claus Hindsgaul (closes: #304600).
+    + Vietnamese, from Clytie Siddall (closes: #311659).
+    + German, from Erik Schanze (closes: #311717).
+    + Portuguese, from Eduardo Silva (closes: #314946).
+    + Russian, from Yuri Kozlov (closes: #324083).
+    + Swedish, from Daniel Nylander (closes: #339741).
+    + Dutch, from Frans Pop (closes: #344709).
+  * Move the source package to "libs" section (closes: #309864).
+  * Use relative symbolic links in the postinst (closes: #303354).
+  * Remove all empty directories in the postrm (closes: #349380).
+  * Provide a symbolic link in /etc/fonts/conf.d to the defoma
+    generated configuration file (closes: #303769).
+  * Remove the file in /var/lib/fontconfig after using it.
+  * Create a temporary home directory to avoid creating
+    /root/.fonts.cache-1.
+  * Remove old x-ttcidfont-conf stuff (accidentally closes: #303748).
+  * Make DejaVu the default fonts (closes: #326984, #317907):
+    + dejavu.diff: make them the preferred fonts.
+    + control: depend on them as the first alternative.
+  * Don't install the support binaries in fontconfig-udeb.
+  * Break the dependency cycle (closes: #302611, #310877).
+    + Split all configuration in a specific fontconfig-config package.
+    + Only support binaries and defoma support remain in fontconfig.
+    + fontconfig.preinst: move the conffiles around.
+  * Update the package descriptions.
+  * Remove obsolete package relationships.
+  * Don't install the user's guide, it's the same contents as the manual
+    page.
+  * Pass LC_ALL=C to the make command to avoid local characters in the 
+    manual pages.
+  * Standards-version is 3.6.2.
+
+ -- Josselin Mouette <joss@debian.org>  Wed,  1 Feb 2006 00:14:48 +0100
+
+fontconfig (2.3.2-1.1) unstable; urgency=low
+
+  * NMU
+  * Add Provides: libfontconfig1 for the udeb to satisfy dependencies
+    from other udebs (closes: #331444).
+
+ -- Frans Pop <fjp@debian.org>  Tue, 18 Oct 2005 21:22:40 +0200
+
+fontconfig (2.3.2-1) unstable; urgency=low
+  * Patch memory leaks (thanks to Chris Capoccia) (closes: #305680)
+  * Share strings to save memory (Ross Burton)
+  * Reduce priority of URW fonts
+
+ -- Keith Packard <keithp@debian.org>  Sat, 23 Apr 2005 14:30:18 +1000
+
+fontconfig (2.3.1-2) unstable; urgency=low
+
+  * Change priority of fontconfig-udeb package to extra
+  * Fixed incorrect hinting_type case in postinst script (closes: #298817)
+  * Replaced Descriptions in fontconfig.templates with shorter
+    versions (Thanks to Josselin Mouette)
+  * Change README.Debian to match new configuration mechanism.
+
+ -- Keith Packard <keithp@debian.org>  Thu, 10 Mar 2005 13:29:11 -0800
+
+fontconfig (2.3.1-1) unstable; urgency=low
+
+  * Move from experimental to unstable
+  * Fix a few minor bugs in handling broken GSUB/GPOS tables
+  * Adopt suggestions by former maintainer (Josselin Mouette)
+    reguarding debian packaging.
+  * Get library man pages to install in -dev package
+  * Translations of the configuration questions remain incomplete
+
+ -- Keith Packard <keithp@debian.org>  Tue,  8 Mar 2005 20:47:35 -0800
+
+fontconfig (2.3.0-1) experimental; urgency=low
+
+  * Change of maintainer
+  * New upstream release
+  * Support for current Freetype versions
+  * Multi-lingual family/style/fullname values with parallel language
+    tags to enable locale-sensitive presentation of these names.
+  * Font black- and white-listing in the configuration file
+    enables users to select their desired font attributes without
+    having to carefully construct the font directory list.
+  * Support for local configuration directory provides a place for system
+    distributors and administrators to make local changes to the font 
+    configuration without having to edit any configuration files.
+					      
+ -- Keith Packard <keithp@debian.org>  Wed,  2 Mar 2005 00:03:56 -0800
+
+fontconfig (2.2.3-4) unstable; urgency=low
+
+  * New translations of debconf templates:
+    + Brazilian
+    + Simplified Chinese (closes: #279326)
+    + Dutch (closes: #280657)
+    + German (closes: #281077)
+    + Danish (closes: #282094)
+  * fontconfig.defoma: patch from SU Yong <yoyosu@ustc.edu.cn> for missing
+    <family> tags (closes: #280560).
+
+ -- Josselin Mouette <joss@debian.org>  Sat, 20 Nov 2004 15:38:00 +0100
+
+fontconfig (2.2.3-3) unstable; urgency=low
+
+  * fontconfig.templates: merge the autohinter and subpixel rendering
+    questions in a single "select" template.
+  * fontconfig.config, fontconfig.postinst: update accordingly.
+  * debian/po/*.po: updated translations (closes: #277927).
+  * fontconfig.postinst: default to use the bytecode interpreter when the
+    subpixel rendering is activated (closes: #277874, #277883, #278211).
+  * fontconfig.config: try to get the answer to deXconf's LCD question to set
+    the default.
+
+ -- Josselin Mouette <joss@debian.org>  Thu, 28 Oct 2004 20:27:49 +0200
+
+fontconfig (2.2.3-2) unstable; urgency=low
+
+  * debian/po/pt_BR.po: updated translation from Gustavo Franco
+    <stratus@acm.org> (closes: #276693).
+  * debian/po/fr.po: correct subpixel rendering question.
+  * fontconfig.config: change question ordering.
+  * fontconfig.templates: default the autohinter to "true", but keep the
+    subpixel rendering to "false". This is because the bytecode interpreter
+    (previous default) renders very badly on TFT screens, and the subpixel
+    rendering looks bad on non-RGBA screens (closes: #268321).
+  * fontconfig.postinst: always enable the autohinter if the subpixel
+    rendering is activated (otherwise it doesn't work).
+
+ -- Josselin Mouette <joss@debian.org>  Thu, 21 Oct 2004 22:59:51 +0200
+
+fontconfig (2.2.3-1) unstable; urgency=low
+
+  * New upstream release.
+  * 00maintainer_mode.patch, autoreconf.patch: removed, obsoleted upstream.
+  * German translation of debconf templates (closes: #252723).
+  * Turkish translation of debconf templates (closes: #246080).
+  * objcopy now works correctly on alpha:
+    - libfontconfig1-dbg.install.alpha: removed.
+    - rules: use --dbg-package on all arches.
+  * shlibs.local: removed.
+
+ -- Josselin Mouette <joss@debian.org>  Tue, 13 Jul 2004 11:32:02 +0200
+
+fontconfig (2.2.2-2) unstable; urgency=low
+
+  * added debian/patches/00maintainer_mode.patch: introduce
+    AM_MAINTAINER_MODE to avoid brain damage.
+  * added debian/patches/autoreconf.patch: this is the result of
+    libtoolize --force --copy; aclocal; autoheader; automake -acf;
+    autoconf with libtool 1.5.4 (closes: #218441).
+  * debian/po/nl.po: added Dutch debconf translation (closes: #237813).
+  * debian/po/da.po: updated Danish translation (closes: #241123).
+
+ -- Josselin Mouette <joss@debian.org>  Wed,  7 Apr 2004 14:28:05 +0200
+
+fontconfig (2.2.2-1) unstable; urgency=low
+
+  * New upstream release.
+  * debian/rules:
+    + only require libfontconfig1 2.2.1 for dh_makeshlibs.
+  * debian/control:
+    + build-depend on binutils 2.12.90.0.9 for dh_strip (closes: #237417).
+    + build-depend on freetype 2.1.7, ditto for -dev depends.
+    + fontconfig now conflicts with libfontconfig1-dev << 2.2.2.
+  * Added debian/po/cs.po (closes: #236275).
+  * Added debian/po/pt_BR.po (closes: #235465).
+  * Removed freetype-build.patch.
+  * fontconfig.install: install fonts-conf.5.
+  * libfontconfig1-dev.install: only install manpages in section 3.
+
+ -- Josselin Mouette <joss@debian.org>  Thu, 11 Mar 2004 14:17:58 +0100
+
+fontconfig (2.2.1-16) unstable; urgency=low
+
+  * Use the new debconf interface for ucf:
+    + fontconfig.postinst: use --debconf-ok option for ucf.
+    + fontconfig.postinst: remove the hack to get back stdio from debconf.
+    + control: depend on ucf 0.29.
+  * Work around objcopy breakage on alpha:
+    + libfontconfig1-dbg.install.alpha: copy the library to the debug
+      directory.
+    + rules: don't use --dbg-package on alpha.
+
+ -- Josselin Mouette <joss@debian.org>  Sun, 22 Feb 2004 17:02:47 +0100
+
+fontconfig (2.2.1-15) unstable; urgency=low
+
+  * Make the dependencies back to ${misc:Depends} now debhelper was updated.
+  * Spanish debconf templates (closes: #232211).
+  * Danish debconf templates (closes: #233071).
+
+ -- Josselin Mouette <joss@debian.org>  Fri, 20 Feb 2004 16:27:21 +0100
+
+fontconfig (2.2.1-14) unstable; urgency=low
+
+  * Rebuild with up to date cdbs (closes: #230357).
+  * Build-depend on docbook-utils 0.6.13.
+  * Make a libfontconfig1-dbg package, requiring debhelper 4.1.76.
+  * Remove po/ru.po (closes: #223349).
+  * Depend on debconf | debconf-2.0 (closes: #230520).
+
+ -- Josselin Mouette <joss@debian.org>  Tue,  3 Feb 2004 13:16:29 +0100
+
+fontconfig (2.2.1-13) unstable; urgency=low
+
+  * patches/freetype-build.patch: include correctly freetype header 
+    files (closes: #222680).
+
+ -- Josselin Mouette <joss@debian.org>  Sat,  6 Dec 2003 15:32:30 +0100
+
+fontconfig (2.2.1-12) unstable; urgency=low
+
+  * fontconfig.postrm: support the case where /usr/local/share/fonts 
+    doesn't exist (closes: #219992).
+
+ -- Josselin Mouette <joss@debian.org>  Tue, 11 Nov 2003 10:42:24 +0100
+
+fontconfig (2.2.1-11) unstable; urgency=low
+
+  * fontconfig.postinst: support the case where /usr/local is mounted 
+    read-only (closes: #219684).
+
+ -- Josselin Mouette <joss@debian.org>  Sat,  8 Nov 2003 09:44:56 +0100
+
+fontconfig (2.2.1-10) unstable; urgency=low
+
+  * shlibs.local: require libfreetype6 2.1.5-3 to avoid the
+    gsfonts-other bug (closes: #218662).
+  * fontconfig.{config,postinst}: remove bashism.
+  * fontconfig.post{inst,rm}: really create /usr/local/share/fonts,
+    and remove it if non-empty on purge.
+  * po/ru.po: updated translation (closes: #219265).
+  * culmus-support.patch: removed, see below.
+  * fonts-conf-aliases.patch: patch from CVS, still add Culmus support,
+    now also support ttf-freefont (closes: #218924).
+
+ -- Josselin Mouette <joss@debian.org>  Fri,  7 Nov 2003 17:02:37 +0100
+
+fontconfig (2.2.1-9) unstable; urgency=low
+
+  * rules: add /usr/local/share/fonts to the list of directories to
+    search for fonts.
+  * po/fr.po: update (closes: #218301).
+  * po/ja.po: update (closes: #217420).
+  * README.Debian: correct typo.
+  * patches/culmus-support.patch: support Culmus fonts for Hebrew 
+    systems (closes: #198374).
+
+ -- Josselin Mouette <joss@debian.org>  Sun,  2 Nov 2003 18:32:11 +0100
+
+fontconfig (2.2.1-8) unstable; urgency=low
+
+  * fontconfig.postinst: revert changes from 2.2.1-7 and just get back
+    stdin back from debconf before running ucf. Thanks a lot to Samuel
+    Hocevar for finding out this trick.
+
+ -- Josselin Mouette <joss@debian.org>  Mon, 20 Oct 2003 15:36:03 +0200
+
+fontconfig (2.2.1-7) unstable; urgency=low
+
+  * fontconfig.postinst: when ucf fails (most likely due to being on
+    an autobuilder with no /dev/tty), just create local.conf if it is
+    not here, otherwise do nothing.
+
+ -- Josselin Mouette <joss@debian.org>  Mon, 20 Oct 2003 13:45:20 +0200
+
+fontconfig (2.2.1-6) unstable; urgency=low
+
+  * Use ucf for local.conf handling (closes: #186730):
+    + fontconfig.{config,postinst}: remove debconf handling of
+      local.conf overwriting.
+    + fontconfig.postrm: new file.
+    + templates: remove overwrite_existing_local_conf.
+    + control: fontconfig depends on ucf 0.25.
+    + local.conf.md5sum: new file, containing all possible md5sums
+      for local.conf generated with debconf in the previous versions.
+  * Apply defoma patch from Angus Lees (closes: #206532, #204771):
+    + fontconfig.defoma: new file.
+    + control: build-depend and depend on defoma.
+    + rules:
+      - Run dh_installdefoma.
+      - Remove x-ttcidfont-conf stuff.
+    + README.Debian: document that fontconfig can now use defoma fonts.
+    + fontconfig.postinst:
+      - Remove old cache files in /var/lib/defoma/x-ttcidfont-conf.d
+        subdirectories.
+      - Include the defoma-generated file in local.conf.
+    + fontconfig.postrm: remove /var/lib/defoma/fontconfig.d.
+  * fonts-conf-ordering.patch: patches fonts.conf to include local.conf
+    before ~/.fonts.conf (closes: #215356).
+  * control:
+    + Remove po-debconf dependency, all autobuilders have a working
+      version now and it never made it to testing.
+    + Make libfontconfig1-dev depend on libfontconfig1 instead of
+      fontconfig.
+    + libfontconfig1-dev depends on libexpat1-dev.
+    + Make fontconfig require one of the 4 most widely used font
+      packages, as anyway all packages using fontconfig should
+      (closes: #189883). Also remove Suggests and Recommends.
+  * fontconfig.postrm: remove old fonts.cache-1 files in /usr/share/fonts
+    and /usr/X11R6/lib/X11/fonts on purge.
+  * No more scripts in fontconfig-udeb (closes: #216132):
+    + fontconfig-udeb.postinst: removed.
+    + rules: make dh_makeshlibs not run on fontconfig-udeb.
+
+ -- Josselin Mouette <joss@debian.org>  Sun, 19 Oct 2003 11:04:35 +0200
+
+fontconfig (2.2.1-5) unstable; urgency=low
+
+  * debian/control:
+    + Build-depend on po-debconf 0.8.1 (closes: #214973).
+    + Remove trailing lines, by request of Ralf Nolden.
+
+ -- Josselin Mouette <joss@debian.org>  Wed, 15 Oct 2003 21:05:45 +0200
+
+fontconfig (2.2.1-4) unstable; urgency=low
+
+  * Russian debconf templates (closes: #214337).
+  * French debconf templates (closes: #213141).
+  * Update manpages.
+  * Patch fc-cache to handle correctly -s (closes: #214091).
+  * Remove defoma comment in README.Debian.
+  * Ask whether to enable the autohinter (closes: #188829).
+  * Add a general documentation about font handling in README.Debian
+    (closes: #186944).
+
+ -- Josselin Mouette <joss@debian.org>  Wed,  8 Oct 2003 22:23:41 +0200
+
+fontconfig (2.2.1-3) unstable; urgency=low
+
+  * New maintainer.
+  * fontconfig.postinst: nitpick output improvement.
+  * Standards-version is 3.6.1.
+  * Switch to po-debconf.
+  * Include japanese debconf templates (closes: #210733).
+  * Move libfontconfig1-dev to libdevel.
+  * Provide manpages for fc-list and fc-cache (closes: #191467).
+
+ -- Josselin Mouette <joss@debian.org>  Tue, 16 Sep 2003 18:31:18 +0200
+
+fontconfig (2.2.1-2) unstable; urgency=low
+
+  * debian/control:
+    - Build-Depend on the latest cdbs to fix a udeb build error
+      (Closes: #205062)
+
+ -- Colin Walters <walters@debian.org>  Tue, 26 Aug 2003 22:54:24 -0400
+
+fontconfig (2.2.1-1) unstable; urgency=low
+
+  * New upstream release.
+    - Eliminates italic_angle check for PS fonts
+      (Closes: #196739, #194832).
+  * debian/rules:
+    - Work around dh_installman bug and put fonts-conf.5 in section 5
+      (Closes: #191026).
+
+ -- Colin Walters <walters@debian.org>  Mon,  9 Jun 2003 20:40:57 -0400
+
+fontconfig (2.2.0-5) unstable; urgency=low
+
+  * debian/rules:
+    - Tighten up shlibs versioning again (Closes: #195118).
+
+ -- Colin Walters <walters@debian.org>  Wed, 28 May 2003 18:53:21 -0400
+
+fontconfig (2.2.0-4) unstable; urgency=low
+
+  * debian/rules:
+      - Ensure fontconfig is built after libfontconfig1 (Closes: #194960).
+
+ -- Colin Walters <walters@debian.org>  Tue, 27 May 2003 18:39:23 -0400
+
+fontconfig (2.2.0-3) unstable; urgency=low
+
+  * debian/control:
+    - Bump Standards-Version: 3.5.10, no changes required.
+    - Build-Depend on cdbs.
+  * debian/rules:
+    - Convert to cdbs.
+  * debian/rocks:
+    - Removed.
+
+ -- Colin Walters <walters@debian.org>  Sun, 25 May 2003 04:42:10 -0400
+
+fontconfig (2.2.0-2) unstable; urgency=low
+
+  * The "Society For Creative Anachronism Seizes Control Of Russia"
+    release.
+  * debian/control:
+    - Recommend ttf-bitstream-vera, since it is the default fallback font
+      now.  Plus it does look pretty nice.  (Closes: #190675).
+    - Suggest: ttf-freefont, my favorite font.
+  * debian/rules:
+    - Update to the latest version of Colin's Build System.
+
+ -- Colin Walters <walters@debian.org>  Tue,  6 May 2003 02:55:40 -0400
+
+fontconfig (2.2.0-1) unstable; urgency=low
+
+  * The "Harsh Light Of Morning Falls On One Night Stand's DVD Collection"
+    release.
+  * New upstream release.
+
+ -- Colin Walters <walters@debian.org>  Wed, 23 Apr 2003 20:39:54 -0400
+
+fontconfig (2.1.94-1) unstable; urgency=low
+
+  * The "I speak better English than this villian Bush" release.
+    (Courtesy of Mohammed Saeed al-Sahaf).
+  * New upstream (pre)release.
+  * README.Debian:
+    - Remove experimental notice.
+  * debian/patches/fonts-conf-cleanup.patch:
+    - Update.
+  * debian/rules:
+    - Update to the latest version of Colin's Build System.
+
+ -- Colin Walters <walters@debian.org>  Thu, 17 Apr 2003 00:13:37 -0400
+
+fontconfig (2.1.93-1) unstable; urgency=low
+
+  * The "Saddam Speech Suspiciously Mentions Nelly Song From Last Summer"
+    release.
+  * New upstream (pre)release.
+    - Actually puts some bytes in fontconfig-user.html (Closes: #185065)
+    - Handles "same" font binding (Closes: #184353)
+    - Handles aliases better (Closes: #179416)
+    - Will handle xfonts-terminus, although it's kinda ugly
+      (Closes: #176690)
+  * debian/control:
+    - Bump Standards-Version to 3.5.9, no changes required.
+    - Minor description fixes.
+  * debian/rocks:
+    - Add --enable-docs to DEB_CONFIGURE_EXTRA_FLAGS.
+  * debian/patches/fontconfig_pc_in-fix-version-var.patch:
+    - Deleted; fix was incorporated upstream.
+  * debian/patches/mono-font-enable.patch:
+    - Deleted; a better fix was incorporated upstream.
+
+ -- Colin Walters <walters@debian.org>  Mon,  7 Apr 2003 22:16:52 -0400
+
+fontconfig (2.1.92-5) unstable; urgency=low
+
+  * The "Wingslinger's is definitely a mafia front" release.
+  * debian/control:
+    - Add back Depends line for fontconfig-udeb, and put libexpat1-udeb,
+    libfreetype6-udeb, zlib1g-udeb there.
+    
+ -- Colin Walters <walters@debian.org>  Sun,  6 Apr 2003 14:07:58 -0400
+
+fontconfig (2.1.92-4) unstable; urgency=low
+
+  * debian/control:
+    - Remove Depends for fontconfig-udeb (Closes: #187833).
+  * debian/fontconfig-udeb.postinst:
+    - New file, hacked up from fontconfig.postinst.
+  * debian/rules:
+    - Update to the latest version of Colin's Build System.
+
+ -- Colin Walters <walters@debian.org>  Sun,  6 Apr 2003 13:18:06 -0400
+
+fontconfig (2.1.92-3) unstable; urgency=low
+
+  * debian/control:
+    - Merge libfontconfig1 and fontconfig packages (Closes: #185466).
+    - Turn libfontconfig1 and libfontconfig1-dev into dummy packages.
+    - Generate new fontconfig-udeb package (Closes: #183822).
+  * debian/patches/mono-font-enable.patch:
+    - New patch; enables marking fonts as monospaced again (Closes: #185239).
+  * debian/rocks:
+    - Remove old cruft like deb-common-build target.
+  * debian/rules:
+    - Update to the latest version of Colin's Build System.
+
+ -- Colin Walters <walters@debian.org>  Fri, 28 Mar 2003 16:16:38 -0500
+
+fontconfig (2.1.92-2) unstable; urgency=low
+
+  * The "I should take up Tae Kwon Do again as a stress reliever" release.
+  * debian/README.Debian:
+    - Update with warning about bitmapped fonts.
+  * debian/fontconfig.templates:
+    - New question about overwriting existing local.conf.
+  * debian/fontconfig.config:
+    - Place into the public domain.
+    - Support new question about overwriting existing local.conf.
+  * debian/fontconfig.postinst:
+    - Place into the public domain.
+    - Support new question about overwriting existing local.conf.
+    - Rewrite so that we always write out the bits for bitmapped fonts and
+      subpixel rendering, but if they're disabled, then comment them out.
+      This will allow people to easily see the code so they can enable it by
+      hand.
+    - Add -v to fc-cache invocation so /var/log/fontconfig.log is a bit
+      more useful.
+
+ -- Colin Walters <walters@debian.org>  Sun,  9 Mar 2003 14:40:43 -0500
+
+fontconfig (2.1.92-1) unstable; urgency=low
+
+  * The "I wish upstream actually used ChangeLog" release.
+  * New upstream (pre)release.
+  * debian/libfontconfig1-dev.install:
+    - Install upstream development HTML and text documentation.
+    - Install upstream development manpages.
+  * debian/fontconfig.install:
+    - Install upstream user HTML and text documentation.
+    - Don't include local.conf in package.  D'oh!
+  * debian/control:
+    - Minor description improvements.
+  * debian/fontconfig.config,debian/fontconfig.postinst,
+    debian/fontconfig.templates:
+    - New debconf question about enabling bitmapped fonts.
+
+ -- Colin Walters <walters@debian.org>  Fri,  7 Mar 2003 17:23:42 -0500
+
+fontconfig (2.1.91-2) unstable; urgency=low
+
+  * debian/control:
+    - Bump Build-Depends (and Depends for libfontconfig1-dev) on
+      libfreetype6-dev to the latest.  This, in combination with this
+      version of fontconfig, will hopefully fix a lot of outstanding bugs.
+    - Drop Build-Depends on xlibs-dev and ed.
+  * debian/rocks:
+    - Hardcode font path here, and include
+      /var/lib/defoma/x-ttcidfont-conf.d/dirs in default font path
+      (Closes: #183342, #176020).
+
+ -- Colin Walters <walters@debian.org>  Thu,  6 Mar 2003 22:00:13 -0500
+
+fontconfig (2.1.91-1) unstable; urgency=low
+
+  * New upstream (pre)release.
+  * debian/patches/fontconfig_pc_in-fix-version-var.patch:
+    - New patch (Closes: #183418).
+
+ -- Colin Walters <walters@debian.org>  Wed,  5 Mar 2003 01:02:17 -0500
+
+fontconfig (2.1.90-1) unstable; urgency=low
+
+  * New upstream (pre)release.
+  * debian/patches/CVS-HEAD-subpixel-rendering-fix.patch,
+    debian/patches/fail-on-submake-failure.patch,
+    debian/patches/owen-fc-cache-fix.patch:
+    - Included upstream now; deleted.
+  * debian/patches/fonts-conf-cleanup.patch:
+    - New patch.  Removes the date from fonts.conf, and helps move
+    subpixel rendering bits into local.conf.
+  * debian/control:
+    - [libfontconfig1-dev] Add Depends on pkg-config.
+    - Add Build-Depends on docbook-utils.
+  * debian/rocks:
+    - Remove manpage stuff.
+  * debian/fontconfig.templates, debian/fontconfig.config,
+    debian/fontconfig.postinst:
+    - Debconfiscation.  Now prompts for subpixel rendering bits
+      (Closes: #182748).
+  * debian/rules:
+    - Update to the latest version of Colin's Build System.
+
+ -- Colin Walters <walters@debian.org>  Sun,  2 Mar 2003 13:29:35 -0500
+
+fontconfig (2.1-15) unstable; urgency=low
+
+  * debian/control:
+    - Build-Depend on xlibs-dev (>= 4.2.0).
+  * debian/patches/owen-fc-cache-fix.patch:
+    - New patch, pulled from the GARNOME CVS; edited slightly.
+      This should fix those crashes in FcConfigAdd (Closes: #178780).
+  * debian/rules:
+    - Update to the latest version of Colin's Build System.
+   
+ -- Colin Walters <walters@debian.org>  Fri, 17 Jan 2003 13:20:09 -0500
+
+fontconfig (2.1-14) unstable; urgency=low
+
+  * debian/patches/CVS-HEAD-subpixel-rendering-fix.patch:
+    - New patch, should fix crashes when subpixel rendering is
+    turned on (Closes: #175903).  Big thanks to
+    Michael Guntsche <mike@it-loops.com> for extracting the relevant fix
+    from CVS!
+
+ -- Colin Walters <walters@debian.org>  Fri, 10 Jan 2003 13:30:28 -0500
+
+fontconfig (2.1-13) unstable; urgency=low
+
+  * debian/rocks:
+    - Tighten up shlibs for libfontconfig1.
+
+ -- Colin Walters <walters@debian.org>  Wed,  8 Jan 2003 22:34:53 -0500
+
+fontconfig (2.1-12) unstable; urgency=low
+
+  * debian/fontconfig.postinst:
+    - Redirect fc-cache error messages to /var/log/fontconfig.log, and
+    refer the user to this upon failure (Closes: #174507).
+
+ -- Colin Walters <walters@debian.org>  Fri,  3 Jan 2003 15:04:05 -0500
+
+fontconfig (2.1-11) unstable; urgency=low
+
+  * debian/control:
+    - Remove Build-Depends on zlib1g; instead Build-Depend on the very
+    latest libfreetype6-dev which does this for us.
+  * debian/fontconfig.postinst:
+    - Display a little message about regenerating the fonts cache.
+
+ -- Colin Walters <walters@debian.org>  Wed, 25 Dec 2002 01:08:05 -0500
+
+fontconfig (2.1-10) unstable; urgency=low
+
+  * debian/patches/fail-on-submake-failure.patch:
+    - New patch.  This way at least the package won't build in the future
+      if there is a failure.
+  * debian/control:
+    - Build-Depend on zlib1g-dev directly until freetype is fixed.
+    - Change fontconfig section to utils.
+
+ -- Colin Walters <walters@debian.org>  Sun, 22 Dec 2002 21:37:25 -0500
+
+fontconfig (2.1-9) unstable; urgency=low
+
+  * The "<Overfiend> "*PANT* *PANT*  YEAH BABY!!!!
+    FRESH COMMITS TO (freetype) CVS!!!!"  *PANT* *PANT*" release.
+  * debian/control:
+    - Build-Depend on the very latest freetype, the previous version of
+    which was a CVS snapshot that broke the fontconfig build, and in fact
+    the build of almost any package dependent on freetype; see #173834.
+    Closes: #173900.
+    - Build-Depend on debhelper (>= 4.1.1) since we use some features from
+    it with CBS in this package (Closes: #173941).
+  * debian/fontconfig.postinst:
+    - New file, with the important contents stolen from Red Hat 8's
+    postinst.  Thanks Anthony Fok <foka@debian.org>. (Closes: #173949).
+
+ -- Colin Walters <walters@debian.org>  Sun, 22 Dec 2002 03:36:21 -0500
+
+fontconfig (2.1-8) unstable; urgency=low
+
+  * debian/control:
+    - Build-Depend on xlibs-dev.  This should fix the issue with
+    /usr/X11R6/lib/fonts or whatever being missing from fonts.conf.
+    - Mention more prominently that fontconfig doesn't depend on X.
+  * debian/rocks:
+    - Install fc-cache, fc-list, and fontconfig manpages
+    (Closes: #173748).
+
+ -- Colin Walters <walters@debian.org>  Sat, 21 Dec 2002 02:54:36 -0500
+
+fontconfig (2.1-7) unstable; urgency=low
+
+  * debian/control:
+    - [libfontconfig1-dev] Add a Conflicts: fontconfig (<< 2.1-5) so that
+    we ensure upgrading happens in the correct order (due to
+    fontconfig-config switching packages).
+
+ -- Colin Walters <walters@debian.org>  Wed, 11 Dec 2002 00:48:31 -0500
+
+fontconfig (2.1-6) unstable; urgency=low
+
+  * debian/patches/no-date-in-fonts-conf.patch:
+    - New patch; this will prevent the fonts.conf conffile from changing
+    on every package upload.
+  * debian/README.Debian:
+    - Update.
+  * debian/rules:
+    - Update to the latest version of Colin's Build System.
+
+ -- Colin Walters <walters@debian.org>  Tue, 10 Dec 2002 14:48:24 -0500
+
+fontconfig (2.1-5) unstable; urgency=low
+
+  * debian/libfontconfig1-dev.install:
+    - Install fontconfig-config.
+  * debian/fontconfig.install
+    - Don't install fontconfig-config.
+  * debian/control:
+    - [libfontconfig1-dev] Add Depends: on libfreetype6-dev
+    (Closes: #172488)
+  * debian/rules:
+    - Update to the latest version of Colin's Build System.
+  * debian/rocks:
+    - Add debian/tmp/usr/lib/ to DEB_SHLIBDEPS_INCLUDE
+      (Closes: #172432).
+    - Ensure libfontconfig1 is built before fontconfig.
+
+ -- Colin Walters <walters@debian.org>  Mon,  9 Dec 2002 23:54:06 -0500
+
+fontconfig (2.1-4) unstable; urgency=low
+
+  * debian/control:
+    - Really Build-Depend on ed (Closes: #172245).  Now how did I add it
+      to the changelog, but not control?  Don't ask me...)
+  * debian/rules:
+    - Update to the latest version of Colin's Build System.
+
+ -- Colin Walters <walters@debian.org>  Mon,  9 Dec 2002 12:59:07 -0500
+
+fontconfig (2.1-3) unstable; urgency=low
+
+  * debian/control:
+    - Build-Depend on ed.
+  * debian/rules:
+    - Update to the latest version of Colin's Build System.
+  * debian/rocks:
+    - Remove extra cruft in deb-extra-clean rule.
+
+ -- Colin Walters <walters@debian.org>  Sun,  8 Dec 2002 20:58:26 -0500
+
+fontconfig (2.1-2) unstable; urgency=low
+
+  * First upload to unstable; Closes: #170559.
+  * debian/rules:
+    - Update to latest version of Colin's Build System.
+
+ -- Colin Walters <walters@debian.org>  Fri,  6 Dec 2002 01:37:16 -0500
+
+fontconfig (2.1-1) unstable; urgency=low
+
+  * New upstream version.
+  * debian/rules:
+    - Use Colin's Build System.
+  * debian/control:
+    - Bump Standards-Version to 3.5.8.
+  * debian/copyright:
+    - Fix Upstream Authors.
+
+ -- Colin Walters <walters@debian.org>  Tue,  3 Dec 2002 22:38:28 -0500
+
+fontconfig (2.0-2) unstable; urgency=low
+
+  * debian/control:
+    - [fontconfig] New package; install configuration files and binaries in it.
+    - [libfontconfig1-dev] Fix up description.
+
+ -- Colin Walters <walters@debian.org>  Mon, 14 Oct 2002 23:06:59 -0400
+
+fontconfig (2.0-1) unstable; urgency=low
+
+  * Initial version.
+  
+ -- Colin Walters <walters@debian.org>  Sun, 13 Oct 2002 14:43:56 -0400
--- fontconfig-2.8.0.orig/debian/fontconfig.links
+++ fontconfig-2.8.0/debian/fontconfig.links
@@ -0,0 +1 @@
+/var/lib/defoma/fontconfig.d/fonts.conf /etc/fonts/conf.d/30-defoma.conf
--- fontconfig-2.8.0.orig/debian/libfontconfig1-dev.docs
+++ fontconfig-2.8.0/debian/libfontconfig1-dev.docs
@@ -0,0 +1,3 @@
+doc/fontconfig-devel.pdf
+doc/fontconfig-devel.txt
+doc/fontconfig-devel
--- fontconfig-2.8.0.orig/debian/patches/series
+++ fontconfig-2.8.0/debian/patches/series
@@ -0,0 +1,6 @@
+00_old_diff_gz.patch
+04_ubuntu_monospace_lcd_filter_conf.patch
+05_lcdfilterlegacy.patch
+05_ubuntu_add_hinting_and_antialiasing_confs.patch
+06_ubuntu_lcddefault.patch
+07_no_bitmaps.patch
--- fontconfig-2.8.0.orig/debian/patches/05_lcdfilterlegacy.patch
+++ fontconfig-2.8.0/debian/patches/05_lcdfilterlegacy.patch
@@ -0,0 +1,9 @@
+--- a/src/fcname.c.orig	2008-09-12 17:27:25.000000000 +0000
++++ b/src/fcname.c	2008-09-12 17:31:54.000000000 +0000
+@@ -441,5 +441,6 @@
+     { (FcChar8 *) "lcddefault",	    "lcdfilter",    FC_LCD_DEFAULT },
+     { (FcChar8 *) "lcdlight",	    "lcdfilter",    FC_LCD_LIGHT },
+     { (FcChar8 *) "lcdlegacy",	    "lcdfilter",    FC_LCD_LEGACY },
++    { (FcChar8 *) "lcdfilterlegacy",	    "lcdfilter",    FC_LCD_LEGACY },
+ };
+ 
--- fontconfig-2.8.0.orig/debian/patches/04_ubuntu_monospace_lcd_filter_conf.patch
+++ fontconfig-2.8.0/debian/patches/04_ubuntu_monospace_lcd_filter_conf.patch
@@ -0,0 +1,25 @@
+--- /dev/null	2007-09-19 15:17:56.000000000 +0100
++++ ft/conf.d/53-monospace-lcd-filter.conf	2007-09-20 22:19:05.000000000 +0100
+@@ -0,0 +1,22 @@
++<?xml version="1.0"?>
++<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
++<!-- conf.d/monospace-lcd-filter.conf -->
++<fontconfig>
++<!--  Use legacy LCD filter on smaller Monospace fonts -->
++  <match target="font">
++    <test name="family">
++      <string>DejaVu Sans Mono</string>
++      <string>Bitstream Vera Sans Mono</string>
++    </test>
++    <test name="pixelsize" compare="less_eq">
++      <double>12.0</double>
++    </test>
++
++    <edit name="lcd_filter" mode="assign">
++      <const>lcdlegacy</const>
++    </edit>
++    <edit name="hintstyle" mode="assign">
++      <const>hintfull</const>
++    </edit>
++  </match>
++</fontconfig>
--- fontconfig-2.8.0.orig/debian/patches/00_old_diff_gz.patch
+++ fontconfig-2.8.0/debian/patches/00_old_diff_gz.patch
@@ -0,0 +1,129 @@
+diff -Nur -x '*.orig' -x '*~' fontconfig-2.7.3/conf.d/40-nonlatin.conf fontconfig-2.7.3.new/conf.d/40-nonlatin.conf
+--- fontconfig-2.7.3/conf.d/40-nonlatin.conf	2009-06-28 19:48:47.000000000 +0200
++++ fontconfig-2.7.3.new/conf.d/40-nonlatin.conf	2009-11-07 18:27:06.000000000 +0100
+@@ -51,6 +51,7 @@
+ 		<family>Baekmuk Dotum</family>
+ 		<family>SimSun</family>
+ 		<family>MgOpen Modata</family>
++		<family>MgOpen Moderna</family>
+ 		<family>Sazanami Gothic</family>
+ 		<family>AR PL ShanHeiSun Uni</family>
+ 		<family>ZYSong18030</family>
+diff -Nur -x '*.orig' -x '*~' fontconfig-2.7.3/conf.d/60-latin.conf fontconfig-2.7.3.new/conf.d/60-latin.conf
+--- fontconfig-2.7.3/conf.d/60-latin.conf	2009-07-10 19:09:33.000000000 +0200
++++ fontconfig-2.7.3.new/conf.d/60-latin.conf	2009-11-07 18:27:06.000000000 +0100
+@@ -4,8 +4,8 @@
+ 	<alias>
+ 		<family>serif</family>
+ 		<prefer>
+-			<family>Bitstream Vera Serif</family>
+ 			<family>DejaVu Serif</family>
++			<family>Bitstream Vera Serif</family>
+ 			<family>Times New Roman</family>
+ 			<family>Thorndale AMT</family>
+ 			<family>Luxi Serif</family>
+@@ -16,8 +16,8 @@
+ 	<alias>
+ 		<family>sans-serif</family>
+ 		<prefer>
+-			<family>Bitstream Vera Sans</family>
+ 			<family>DejaVu Sans</family>
++			<family>Bitstream Vera Sans</family>
+ 			<family>Verdana</family>
+ 			<family>Arial</family>
+ 			<family>Albany AMT</family>
+@@ -32,8 +32,8 @@
+ 	<alias>
+ 		<family>monospace</family>
+ 		<prefer>
+-			<family>Bitstream Vera Sans Mono</family>
+ 			<family>DejaVu Sans Mono</family>
++			<family>Bitstream Vera Sans Mono</family>
+ 			<family>Inconsolata</family>
+ 			<family>Andale Mono</family>
+ 			<family>Courier New</family>
+diff -Nur -x '*.orig' -x '*~' fontconfig-2.7.3/conf.d/Makefile.am fontconfig-2.7.3.new/conf.d/Makefile.am
+--- fontconfig-2.7.3/conf.d/Makefile.am	2009-03-18 22:02:20.000000000 +0100
++++ fontconfig-2.7.3.new/conf.d/Makefile.am	2009-11-07 18:27:06.000000000 +0100
+@@ -25,7 +25,12 @@
+ 	README
+ 
+ CONF_FILES = \
++	10-antialias.conf \
+ 	10-autohint.conf \
++	10-hinting.conf \
++	10-hinting-full.conf \
++	10-hinting-medium.conf \
++	10-hinting-slight.conf \
+ 	10-no-sub-pixel.conf \
+ 	10-sub-pixel-bgr.conf \
+ 	10-sub-pixel-rgb.conf \
+@@ -42,6 +47,8 @@
+ 	49-sansserif.conf \
+ 	50-user.conf \
+ 	51-local.conf \
++	52-languageselector.conf \
++	53-monospace-lcd-filter.conf \
+ 	60-latin.conf \
+ 	65-fonts-persian.conf \
+ 	65-khmer.conf \
+@@ -53,6 +60,9 @@
+ 	90-synthetic.conf
+ 
+ CONF_LINKS = \
++	10-antialias.conf \
++	10-hinting.conf \
++	10-hinting-slight.conf \
+ 	20-fix-globaladvance.conf \
+ 	20-unhint-small-vera.conf \
+ 	30-urw-aliases.conf \
+@@ -62,6 +72,7 @@
+ 	49-sansserif.conf \
+ 	50-user.conf \
+ 	51-local.conf \
++	53-monospace-lcd-filter.conf \
+ 	60-latin.conf \
+ 	65-fonts-persian.conf \
+ 	65-nonlatin.conf \
+diff -Nur -x '*.orig' -x '*~' fontconfig-2.7.3/conf.d/Makefile.in fontconfig-2.7.3.new/conf.d/Makefile.in
+--- fontconfig-2.7.3/conf.d/Makefile.in	2009-09-08 17:45:58.000000000 +0200
++++ fontconfig-2.7.3.new/conf.d/Makefile.in	2009-11-07 18:27:06.000000000 +0100
+@@ -246,7 +246,12 @@
+ 	README
+ 
+ CONF_FILES = \
++	10-antialias.conf \
+ 	10-autohint.conf \
++	10-hinting.conf \
++	10-hinting-full.conf \
++	10-hinting-medium.conf \
++	10-hinting-slight.conf \
+ 	10-no-sub-pixel.conf \
+ 	10-sub-pixel-bgr.conf \
+ 	10-sub-pixel-rgb.conf \
+@@ -263,6 +268,7 @@
+ 	49-sansserif.conf \
+ 	50-user.conf \
+ 	51-local.conf \
++	53-monospace-lcd-filter.conf \
+ 	60-latin.conf \
+ 	65-fonts-persian.conf \
+ 	65-khmer.conf \
+@@ -274,6 +280,9 @@
+ 	90-synthetic.conf
+ 
+ CONF_LINKS = \
++	10-antialias.conf \
++	10-hinting.conf \
++	10-hinting-slight.conf \
+ 	20-fix-globaladvance.conf \
+ 	20-unhint-small-vera.conf \
+ 	30-urw-aliases.conf \
+@@ -283,6 +292,7 @@
+ 	49-sansserif.conf \
+ 	50-user.conf \
+ 	51-local.conf \
++	53-monospace-lcd-filter.conf \
+ 	60-latin.conf \
+ 	65-fonts-persian.conf \
+ 	65-nonlatin.conf \
--- fontconfig-2.8.0.orig/debian/patches/06_ubuntu_lcddefault.patch
+++ fontconfig-2.8.0/debian/patches/06_ubuntu_lcddefault.patch
@@ -0,0 +1,102 @@
+---
+ conf.d/11-lcd-filter-lcddefault.conf |   11 +++++++++++
+ conf.d/Makefile.am                   |    2 ++
+ conf.d/Makefile.in                   |    2 ++
+ 3 files changed, 15 insertions(+)
+
+Index: fontconfig-2.6.0/conf.d/11-lcd-filter-lcddefault.conf
+===================================================================
+--- /dev/null
++++ fontconfig-2.6.0/conf.d/11-lcd-filter-lcddefault.conf
+@@ -0,0 +1,11 @@
++<?xml version="1.0"?>
++<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
++<!-- conf.d/lcd-filter-lcddefault.conf -->
++<fontconfig>
++<!--  Use lcddefault as default for LCD filter -->
++  <match target="font">
++    <edit mode="assign" name="lcdfilter">
++      <const>lcddefault</const>
++    </edit>
++  </match>
++</fontconfig>
+Index: fontconfig-2.6.0/conf.d/Makefile.am
+===================================================================
+--- fontconfig-2.6.0.orig/conf.d/Makefile.am
++++ fontconfig-2.6.0/conf.d/Makefile.am
+@@ -32,16 +32,17 @@
+ 	10-hinting-medium.conf \
+ 	10-hinting-slight.conf \
+ 	10-no-sub-pixel.conf \
+ 	10-sub-pixel-bgr.conf \
+ 	10-sub-pixel-rgb.conf \
+ 	10-sub-pixel-vbgr.conf \
+ 	10-sub-pixel-vrgb.conf \
+ 	10-unhinted.conf \
++	11-lcd-filter-lcddefault.conf \
+ 	20-fix-globaladvance.conf \
+ 	20-unhint-small-vera.conf \
+ 	25-unhint-nonlatin.conf \
+ 	30-urw-aliases.conf \
+ 	30-metric-aliases.conf \
+ 	40-nonlatin.conf \
+ 	45-latin.conf \
+ 	49-sansserif.conf \
+@@ -58,16 +59,17 @@
+ 	70-yes-bitmaps.conf \
+ 	80-delicious.conf \
+ 	90-synthetic.conf
+ 
+ CONF_LINKS = \
+ 	10-antialias.conf \
+ 	10-hinting.conf \
+ 	10-hinting-slight.conf \
++	11-lcd-filter-lcddefault.conf \
+ 	20-fix-globaladvance.conf \
+ 	20-unhint-small-vera.conf \
+ 	30-urw-aliases.conf \
+ 	30-metric-aliases.conf \
+ 	40-nonlatin.conf \
+ 	45-latin.conf \
+ 	49-sansserif.conf \
+ 	50-user.conf \
+Index: fontconfig-2.6.0/conf.d/Makefile.in
+===================================================================
+--- fontconfig-2.6.0.orig/conf.d/Makefile.in
++++ fontconfig-2.6.0/conf.d/Makefile.in
+@@ -249,16 +249,17 @@
+ 	10-hinting-medium.conf \
+ 	10-hinting-slight.conf \
+ 	10-no-sub-pixel.conf \
+ 	10-sub-pixel-bgr.conf \
+ 	10-sub-pixel-rgb.conf \
+ 	10-sub-pixel-vbgr.conf \
+ 	10-sub-pixel-vrgb.conf \
+ 	10-unhinted.conf \
++	11-lcd-filter-lcddefault.conf \
+ 	20-fix-globaladvance.conf \
+ 	20-unhint-small-vera.conf \
+ 	25-unhint-nonlatin.conf \
+ 	30-urw-aliases.conf \
+ 	30-metric-aliases.conf \
+ 	40-nonlatin.conf \
+ 	45-latin.conf \
+ 	49-sansserif.conf \
+@@ -274,16 +275,17 @@
+ 	70-yes-bitmaps.conf \
+ 	80-delicious.conf \
+ 	90-synthetic.conf
+ 
+ CONF_LINKS = \
+ 	10-antialias.conf \
+ 	10-hinting.conf \
+ 	10-hinting-slight.conf \
++	11-lcd-filter-lcddefault.conf \
+ 	20-fix-globaladvance.conf \
+ 	20-unhint-small-vera.conf \
+ 	30-urw-aliases.conf \
+ 	30-metric-aliases.conf \
+ 	40-nonlatin.conf \
+ 	45-latin.conf \
+ 	49-sansserif.conf \
+ 	50-user.conf \
--- fontconfig-2.8.0.orig/debian/patches/07_no_bitmaps.patch
+++ fontconfig-2.8.0/debian/patches/07_no_bitmaps.patch
@@ -0,0 +1,49 @@
+---
+ conf.d/Makefile.am |    1 +
+ conf.d/Makefile.in |    1 +
+ 2 files changed, 2 insertions(+)
+
+Index: fontconfig-2.6.0/conf.d/Makefile.am
+===================================================================
+--- fontconfig-2.6.0.orig/conf.d/Makefile.am
++++ fontconfig-2.6.0/conf.d/Makefile.am
+@@ -74,16 +74,17 @@
+ 	49-sansserif.conf \
+ 	50-user.conf \
+ 	51-local.conf \
+ 	53-monospace-lcd-filter.conf \
+ 	60-latin.conf \
+ 	65-fonts-persian.conf \
+ 	65-nonlatin.conf \
+ 	69-unifont.conf \
++	70-no-bitmaps.conf \
+ 	80-delicious.conf \
+ 	90-synthetic.conf
+ 
+ EXTRA_DIST = $(CONF_FILES) $(DOC_FILES)
+ 
+ configdir=$(CONFDIR)
+ confavaildir=$(configdir)/conf.avail
+ confddir=$(configdir)/conf.d
+Index: fontconfig-2.6.0/conf.d/Makefile.in
+===================================================================
+--- fontconfig-2.6.0.orig/conf.d/Makefile.in
++++ fontconfig-2.6.0/conf.d/Makefile.in
+@@ -290,16 +290,17 @@
+ 	49-sansserif.conf \
+ 	50-user.conf \
+ 	51-local.conf \
+ 	53-monospace-lcd-filter.conf \
+ 	60-latin.conf \
+ 	65-fonts-persian.conf \
+ 	65-nonlatin.conf \
+ 	69-unifont.conf \
++	70-no-bitmaps.conf \
+ 	80-delicious.conf \
+ 	90-synthetic.conf
+ 
+ EXTRA_DIST = $(CONF_FILES) $(DOC_FILES)
+ configdir = $(CONFDIR)
+ confavaildir = $(configdir)/conf.avail
+ confddir = $(configdir)/conf.d
+ confavail_DATA = $(CONF_FILES)
--- fontconfig-2.8.0.orig/debian/patches/05_ubuntu_add_hinting_and_antialiasing_confs.patch
+++ fontconfig-2.8.0/debian/patches/05_ubuntu_add_hinting_and_antialiasing_confs.patch
@@ -0,0 +1,60 @@
+diff -Nur -x '*.orig' -x '*~' fontconfig-2.5.0/conf.d/10-antialias.conf fontconfig-2.5.0.new/conf.d/10-antialias.conf
+--- fontconfig-2.5.0/conf.d/10-antialias.conf	1970-01-01 08:00:00.000000000 +0800
++++ fontconfig-2.5.0.new/conf.d/10-antialias.conf	2008-02-28 04:22:09.000000000 +0800
+@@ -0,0 +1,8 @@
++<?xml version="1.0"?>
++<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
++<fontconfig>
++<!--  Use the Antialiasing --> 
++  <match target="font">
++    <edit name="antialias" mode="assign"><bool>true</bool></edit>
++  </match>
++</fontconfig>
+diff -Nur -x '*.orig' -x '*~' fontconfig-2.5.0/conf.d/10-hinting.conf fontconfig-2.5.0.new/conf.d/10-hinting.conf
+--- fontconfig-2.5.0/conf.d/10-hinting.conf	1970-01-01 08:00:00.000000000 +0800
++++ fontconfig-2.5.0.new/conf.d/10-hinting.conf	2008-02-28 04:22:33.000000000 +0800
+@@ -0,0 +1,8 @@
++<?xml version="1.0"?>
++<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
++<fontconfig>
++<!--  Use Hinting --> 
++  <match target="font">
++    <edit name="hinting" mode="assign"><bool>true</bool></edit>
++  </match>
++</fontconfig>
+diff -Nur -x '*.orig' -x '*~' fontconfig-2.5.0/conf.d/10-hinting-full.conf fontconfig-2.5.0.new/conf.d/10-hinting-full.conf
+--- fontconfig-2.5.0/conf.d/10-hinting-full.conf	1970-01-01 08:00:00.000000000 +0800
++++ fontconfig-2.5.0.new/conf.d/10-hinting-full.conf	2008-02-28 04:24:01.000000000 +0800
+@@ -0,0 +1,8 @@
++<?xml version="1.0"?>
++<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
++<fontconfig>
++<!--  Use Full Hinting --> 
++  <match target="font">
++    <edit name="hintstyle" mode="assign"><const>hintfull</const></edit>
++  </match>
++</fontconfig>
+diff -Nur -x '*.orig' -x '*~' fontconfig-2.5.0/conf.d/10-hinting-medium.conf fontconfig-2.5.0.new/conf.d/10-hinting-medium.conf
+--- fontconfig-2.5.0/conf.d/10-hinting-medium.conf	1970-01-01 08:00:00.000000000 +0800
++++ fontconfig-2.5.0.new/conf.d/10-hinting-medium.conf	2008-02-28 04:23:23.000000000 +0800
+@@ -0,0 +1,8 @@
++<?xml version="1.0"?>
++<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
++<fontconfig>
++<!--  Use Medium Hinting --> 
++  <match target="font">
++    <edit name="hintstyle" mode="assign"><const>hintmedium</const></edit>
++  </match>
++</fontconfig>
+diff -Nur -x '*.orig' -x '*~' fontconfig-2.5.0/conf.d/10-hinting-slight.conf fontconfig-2.5.0.new/conf.d/10-hinting-slight.conf
+--- fontconfig-2.5.0/conf.d/10-hinting-slight.conf	1970-01-01 08:00:00.000000000 +0800
++++ fontconfig-2.5.0.new/conf.d/10-hinting-slight.conf	2008-02-28 04:24:26.000000000 +0800
+@@ -0,0 +1,8 @@
++<?xml version="1.0"?>
++<!DOCTYPE fontconfig SYSTEM "fonts.dtd">
++<fontconfig>
++<!--  Use Slight Hinting --> 
++  <match target="font">
++    <edit name="hintstyle" mode="assign"><const>hintslight</const></edit>
++  </match>
++</fontconfig>
